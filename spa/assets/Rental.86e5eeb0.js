import{i as Ue,aC as dn,aD as $n,aE as Kn,aF as Un,u as Pt,az as Ml,n as Bt,aA as Dl,j as S,ak as ql,q as ot,k as y,Q as at,aG as Vl,aH as xl,v as Qe,B as kl,C as Xn,D as Ol,r as $,E as Al,F as Hl,G as Wn,H as Il,I as Fl,y as Ae,aI as Yl,ac as Et,aJ as El,aK as pn,L as Tl,aL as Pl,l as Zt,T as vt,z as vn,aM as Bl,aN as Zn,aO as zl,a9 as Jn,ad as Le,aP as Ll,ah as Rl,aQ as Gn,aR as el,aS as fn,aT as jl,aU as wn,aV as Vt,aW as Nl,aX as Ql,an as It,aY as $l,aZ as lt,s as tl,a_ as Kl,a$ as Kt,am as Ul,b0 as nl,b1 as Xl,b2 as ll,b3 as Wl,b4 as al,X as xe,A as Zl,b5 as Jl,b6 as Gl,b7 as ea,a7 as ol,a8 as xt,aa as ta,K as Rt,ab as tn,J as nn,b8 as ul,a1 as Ot,a6 as na,ai as la,b9 as aa,ba as oa,bb as ua,_ as il,o as $e,f as Ut,w as Y,e as O,V as et,M as G,bc as Ge,c as bt,bd as ia,be as ra,h as Ft,t as Yt,bf as sa,g as ca,aB as da,bg as va,W as At,bh as fa,a as _n,O as Cn,P as Mn,Y as Dn,R as ma,S as ha}from"./index.71617c11.js";import{Q as Mt,a as Xt,b as Tt}from"./QItem.0ad78bd5.js";import{Q as qn}from"./QList.ee342a92.js";import{u as rl,v as Vn,a as ga,b as ya,c as sl,p as xn,r as kn,s as Sa,d as ba}from"./position-engine.8cd0ed96.js";import{u as pa,g as On,s as An,c as wa}from"./use-cache.0702699f.js";var _a=Ue({name:"QField",inheritAttrs:!1,props:{...dn,tag:{type:String,default:"label"}},emits:$n,setup(){return Kn(Un({requiredForAttr:!1,tagProp:!0}))}});const Ca={xs:8,sm:10,md:14,lg:20,xl:24};var Ma=Ue({name:"QChip",props:{...Pt,...Ml,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:u}){const{proxy:{$q:s}}=ot(),n=Bt(e,s),a=Dl(e,Ca),r=S(()=>e.selected===!0||e.icon!==void 0),c=S(()=>e.selected===!0?e.iconSelected||s.iconSet.chip.selected:e.icon),d=S(()=>e.iconRemove||s.iconSet.chip.remove),w=S(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),f=S(()=>{const V=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(V?` text-${V} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(w.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(n.value===!0?" q-chip--dark q-dark":"")}),b=S(()=>{const V=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},se={...V,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||s.lang.label.remove};return{chip:V,remove:se}});function H(V){V.keyCode===13&&_(V)}function _(V){e.disable||(u("update:selected",!e.selected),u("click",V))}function F(V){(V.keyCode===void 0||V.keyCode===13)&&(Qe(V),e.disable===!1&&(u("update:modelValue",!1),u("remove")))}function E(){const V=[];w.value===!0&&V.push(y("div",{class:"q-focus-helper"})),r.value===!0&&V.push(y(at,{class:"q-chip__icon q-chip__icon--left",name:c.value}));const se=e.label!==void 0?[y("div",{class:"ellipsis"},[e.label])]:void 0;return V.push(y("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Vl(t.default,se))),e.iconRight&&V.push(y(at,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&V.push(y(at,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:d.value,...b.value.remove,onClick:F,onKeyup:F})),V}return()=>{if(e.modelValue===!1)return;const V={class:f.value,style:a.value};return w.value===!0&&Object.assign(V,b.value.chip,{onClick:_,onKeyup:H}),ql("div",V,E(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[xl,e.ripple]])}}}),cl=Ue({name:"QMenu",inheritAttrs:!1,props:{...rl,...kl,...Pt,...Xn,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Vn},self:{type:String,validator:Vn},offset:{type:Array,validator:ga},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Ol,"click","escapeKey"],setup(e,{slots:t,emit:u,attrs:s}){let n=null,a,r,c;const d=ot(),{proxy:w}=d,{$q:f}=w,b=$(null),H=$(!1),_=S(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),F=Bt(e,f),{registerTick:E,removeTick:V}=Al(),{registerTimeout:se}=Hl(),{transitionProps:Ce,transitionStyle:D}=Wn(e),{localScrollTarget:v,changeScrollEvent:B,unconfigureScrollTarget:J}=ya(e,L),{anchorEl:ae,canShow:oe}=sl({showing:H}),{hide:Ie}=Il({showing:H,canShow:oe,handleShow:Fe,handleHide:g,hideOnRouteChange:_,processOnMount:!0}),{showPortal:Me,hidePortal:ce,renderPortal:fe}=Fl(d,b,te,"menu"),he={anchorEl:ae,innerRef:b,onClickOutside(C){if(e.persistent!==!0&&H.value===!0)return Ie(C),(C.type==="touchstart"||C.target.classList.contains("q-dialog__backdrop"))&&Qe(C),!0}},we=S(()=>xn(e.anchor||(e.cover===!0?"center middle":"bottom start"),f.lang.rtl)),de=S(()=>e.cover===!0?we.value:xn(e.self||"top start",f.lang.rtl)),ge=S(()=>(e.square===!0?" q-menu--square":"")+(F.value===!0?" q-menu--dark q-dark":"")),me=S(()=>e.autoClose===!0?{onClick:K}:{}),be=S(()=>H.value===!0&&e.persistent!==!0);Ae(be,C=>{C===!0?(Bl(R),ba(he)):(pn(R),kn(he))});function qe(){Zn(()=>{let C=b.value;C&&C.contains(document.activeElement)!==!0&&(C=C.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||C.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||C.querySelector("[autofocus], [data-autofocus]")||C,C.focus({preventScroll:!0}))})}function Fe(C){if(n=e.noRefocus===!1?document.activeElement:null,Yl(ee),Me(),L(),a=void 0,C!==void 0&&(e.touchPosition||e.contextMenu)){const ye=Et(C);if(ye.left!==void 0){const{top:Z,left:ue}=ae.value.getBoundingClientRect();a={left:ye.left-ue,top:ye.top-Z}}}r===void 0&&(r=Ae(()=>f.screen.width+"|"+f.screen.height+"|"+e.self+"|"+e.anchor+"|"+f.lang.rtl,P)),e.noFocus!==!0&&document.activeElement.blur(),E(()=>{P(),e.noFocus!==!0&&qe()}),se(()=>{f.platform.is.ios===!0&&(c=e.autoClose,b.value.click()),P(),Me(!0),u("show",C)},e.transitionDuration)}function g(C){V(),ce(),M(!0),n!==null&&(C===void 0||C.qClickOutside!==!0)&&(((C&&C.type.indexOf("key")===0?n.closest('[tabindex]:not([tabindex^="-"])'):void 0)||n).focus(),n=null),se(()=>{ce(!0),u("hide",C)},e.transitionDuration)}function M(C){a=void 0,r!==void 0&&(r(),r=void 0),(C===!0||H.value===!0)&&(El(ee),J(),kn(he),pn(R)),C!==!0&&(n=null)}function L(){(ae.value!==null||e.scrollTarget!==void 0)&&(v.value=Tl(ae.value,e.scrollTarget),B(v.value,P))}function K(C){c!==!0?(Pl(w,C),u("click",C)):c=!1}function ee(C){be.value===!0&&e.noFocus!==!0&&zl(b.value,C.target)!==!0&&qe()}function R(C){u("escapeKey"),Ie(C)}function P(){Sa({targetEl:b.value,offset:e.offset,anchorEl:ae.value,anchorOrigin:we.value,selfOrigin:de.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function te(){return y(vt,Ce.value,()=>H.value===!0?y("div",{role:"menu",...s,ref:b,tabindex:-1,class:["q-menu q-position-engine scroll"+ge.value,s.class],style:[s.style,D.value],...me.value},Zt(t.default)):null)}return vn(M),Object.assign(w,{focus:qe,updatePosition:P}),fe}});let Wt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Wt=e.scrollLeft>=0,e.remove()}const Ke=1e3,Da=["start","center","end","start-force","center-force","end-force"],dl=Array.prototype.filter,qa=window.getComputedStyle(document.body).overflowAnchor===void 0?Jn:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const u=e.children||[];dl.call(u,n=>n.dataset&&n.dataset.qVsAnchor!==void 0).forEach(n=>{delete n.dataset.qVsAnchor});const s=u[t];s&&s.dataset&&(s.dataset.qVsAnchor="")}))};function Dt(e,t){return e+t}function ln(e,t,u,s,n,a,r,c){const d=e===window?document.scrollingElement||document.documentElement:e,w=n===!0?"offsetWidth":"offsetHeight",f={scrollStart:0,scrollViewSize:-r-c,scrollMaxSize:0,offsetStart:-r,offsetEnd:-c};if(n===!0?(e===window?(f.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,f.scrollViewSize+=document.documentElement.clientWidth):(f.scrollStart=d.scrollLeft,f.scrollViewSize+=d.clientWidth),f.scrollMaxSize=d.scrollWidth,a===!0&&(f.scrollStart=(Wt===!0?f.scrollMaxSize-f.scrollViewSize:0)-f.scrollStart)):(e===window?(f.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,f.scrollViewSize+=document.documentElement.clientHeight):(f.scrollStart=d.scrollTop,f.scrollViewSize+=d.clientHeight),f.scrollMaxSize=d.scrollHeight),u!==null)for(let b=u.previousElementSibling;b!==null;b=b.previousElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(f.offsetStart+=b[w]);if(s!==null)for(let b=s.nextElementSibling;b!==null;b=b.nextElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(f.offsetEnd+=b[w]);if(t!==e){const b=d.getBoundingClientRect(),H=t.getBoundingClientRect();n===!0?(f.offsetStart+=H.left-b.left,f.offsetEnd-=H.width):(f.offsetStart+=H.top-b.top,f.offsetEnd-=H.height),e!==window&&(f.offsetStart+=f.scrollStart),f.offsetEnd+=f.scrollMaxSize-f.offsetStart}return f}function Hn(e,t,u,s){t==="end"&&(t=(e===window?document.body:e)[u===!0?"scrollWidth":"scrollHeight"]),e===window?u===!0?(s===!0&&(t=(Wt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):u===!0?(s===!0&&(t=(Wt===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function kt(e,t,u,s){if(u>=s)return 0;const n=t.length,a=Math.floor(u/Ke),r=Math.floor((s-1)/Ke)+1;let c=e.slice(a,r).reduce(Dt,0);return u%Ke!==0&&(c-=t.slice(a*Ke,u).reduce(Dt,0)),s%Ke!==0&&s!==n&&(c-=t.slice(s,r*Ke).reduce(Dt,0)),c}const Va={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},xa={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Va};function ka({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:u,virtualScrollItemSizeComputed:s}){const n=ot(),{props:a,emit:r,proxy:c}=n,{$q:d}=c;let w,f,b,H=[],_;const F=$(0),E=$(0),V=$({}),se=$(null),Ce=$(null),D=$(null),v=$({from:0,to:0}),B=S(()=>a.tableColspan!==void 0?a.tableColspan:100);s===void 0&&(s=S(()=>a.virtualScrollItemSize));const J=S(()=>s.value+";"+a.virtualScrollHorizontal),ae=S(()=>J.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);Ae(ae,()=>{ge()}),Ae(J,oe);function oe(){de(f,!0)}function Ie(g){de(g===void 0?f:g)}function Me(g,M){const L=t();if(L==null||L.nodeType===8)return;const K=ln(L,u(),se.value,Ce.value,a.virtualScrollHorizontal,d.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);b!==K.scrollViewSize&&ge(K.scrollViewSize),fe(L,K,Math.min(e.value-1,Math.max(0,parseInt(g,10)||0)),0,Da.indexOf(M)>-1?M:f>-1&&g>f?"end":"start")}function ce(){const g=t();if(g==null||g.nodeType===8)return;const M=ln(g,u(),se.value,Ce.value,a.virtualScrollHorizontal,d.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),L=e.value-1,K=M.scrollMaxSize-M.offsetStart-M.offsetEnd-E.value;if(w===M.scrollStart)return;if(M.scrollMaxSize<=0){fe(g,M,0,0);return}b!==M.scrollViewSize&&ge(M.scrollViewSize),he(v.value.from);const ee=Math.floor(M.scrollMaxSize-Math.max(M.scrollViewSize,M.offsetEnd)-Math.min(_[L],M.scrollViewSize/2));if(ee>0&&Math.ceil(M.scrollStart)>=ee){fe(g,M,L,M.scrollMaxSize-M.offsetEnd-H.reduce(Dt,0));return}let R=0,P=M.scrollStart-M.offsetStart,te=P;if(P<=K&&P+M.scrollViewSize>=F.value)P-=F.value,R=v.value.from,te=P;else for(let C=0;P>=H[C]&&R<L;C++)P-=H[C],R+=Ke;for(;P>0&&R<L;)P-=_[R],P>-M.scrollViewSize?(R++,te=P):te=_[R]+P;fe(g,M,R,te)}function fe(g,M,L,K,ee){const R=typeof ee=="string"&&ee.indexOf("-force")>-1,P=R===!0?ee.replace("-force",""):ee,te=P!==void 0?P:"start";let C=Math.max(0,L-V.value[te]),ye=C+V.value.total;ye>e.value&&(ye=e.value,C=Math.max(0,ye-V.value.total)),w=M.scrollStart;const Z=C!==v.value.from||ye!==v.value.to;if(Z===!1&&P===void 0){be(L);return}const{activeElement:ue}=document,ke=D.value;Z===!0&&ke!==null&&ke!==ue&&ke.contains(ue)===!0&&(ke.addEventListener("focusout",we),setTimeout(()=>{ke!==null&&ke.removeEventListener("focusout",we)})),qa(ke,L-C);const Re=P!==void 0?_.slice(C,L).reduce(Dt,0):0;if(Z===!0){const Te=ye>=v.value.from&&C<=v.value.to?v.value.to:ye;v.value={from:C,to:Te},F.value=kt(H,_,0,C),E.value=kt(H,_,ye,e.value),requestAnimationFrame(()=>{v.value.to!==ye&&w===M.scrollStart&&(v.value={from:v.value.from,to:ye},E.value=kt(H,_,ye,e.value))})}requestAnimationFrame(()=>{if(w!==M.scrollStart)return;Z===!0&&he(C);const Te=_.slice(C,L).reduce(Dt,0),He=Te+M.offsetStart+F.value,_e=He+_[L];let We=He+K;if(P!==void 0){const mt=Te-Re,Pe=M.scrollStart+mt;We=R!==!0&&Pe<He&&_e<Pe+M.scrollViewSize?Pe:P==="end"?_e-M.scrollViewSize:He-(P==="start"?0:Math.round((M.scrollViewSize-_[L])/2))}w=We,Hn(g,We,a.virtualScrollHorizontal,d.lang.rtl),be(L)})}function he(g){const M=D.value;if(M){const L=dl.call(M.children,C=>C.classList&&C.classList.contains("q-virtual-scroll--skip")===!1),K=L.length,ee=a.virtualScrollHorizontal===!0?C=>C.getBoundingClientRect().width:C=>C.offsetHeight;let R=g,P,te;for(let C=0;C<K;){for(P=ee(L[C]),C++;C<K&&L[C].classList.contains("q-virtual-scroll--with-prev")===!0;)P+=ee(L[C]),C++;te=P-_[R],te!==0&&(_[R]+=te,H[Math.floor(R/Ke)]+=te),R++}}}function we(){D.value!==null&&D.value!==void 0&&D.value.focus()}function de(g,M){const L=1*s.value;(M===!0||Array.isArray(_)===!1)&&(_=[]);const K=_.length;_.length=e.value;for(let R=e.value-1;R>=K;R--)_[R]=L;const ee=Math.floor((e.value-1)/Ke);H=[];for(let R=0;R<=ee;R++){let P=0;const te=Math.min((R+1)*Ke,e.value);for(let C=R*Ke;C<te;C++)P+=_[C];H.push(P)}f=-1,w=void 0,F.value=kt(H,_,0,v.value.from),E.value=kt(H,_,v.value.to,e.value),g>=0?(he(v.value.from),Le(()=>{Me(g)})):qe()}function ge(g){if(g===void 0&&typeof window!="undefined"){const P=t();P!=null&&P.nodeType!==8&&(g=ln(P,u(),se.value,Ce.value,a.virtualScrollHorizontal,d.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}b=g;const M=parseFloat(a.virtualScrollSliceRatioBefore)||0,L=parseFloat(a.virtualScrollSliceRatioAfter)||0,K=1+M+L,ee=g===void 0||g<=0?1:Math.ceil(g/s.value),R=Math.max(1,ee,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/K));V.value={total:Math.ceil(R*K),start:Math.ceil(R*M),center:Math.ceil(R*(.5+M)),end:Math.ceil(R*(1+M)),view:ee}}function me(g,M){const L=a.virtualScrollHorizontal===!0?"width":"height",K={["--q-virtual-scroll-item-"+L]:s.value+"px"};return[g==="tbody"?y(g,{class:"q-virtual-scroll__padding",key:"before",ref:se},[y("tr",[y("td",{style:{[L]:`${F.value}px`,...K},colspan:B.value})])]):y(g,{class:"q-virtual-scroll__padding",key:"before",ref:se,style:{[L]:`${F.value}px`,...K}}),y(g,{class:"q-virtual-scroll__content",key:"content",ref:D,tabindex:-1},M.flat()),g==="tbody"?y(g,{class:"q-virtual-scroll__padding",key:"after",ref:Ce},[y("tr",[y("td",{style:{[L]:`${E.value}px`,...K},colspan:B.value})])]):y(g,{class:"q-virtual-scroll__padding",key:"after",ref:Ce,style:{[L]:`${E.value}px`,...K}})]}function be(g){f!==g&&(a.onVirtualScroll!==void 0&&r("virtualScroll",{index:g,from:v.value.from,to:v.value.to-1,direction:g<f?"decrease":"increase",ref:c}),f=g)}ge();const qe=Ll(ce,d.platform.is.ios===!0?120:35);Rl(()=>{ge()});let Fe=!1;return Gn(()=>{Fe=!0}),el(()=>{if(Fe!==!0)return;const g=t();w!==void 0&&g!==void 0&&g!==null&&g.nodeType!==8?Hn(g,w,a.virtualScrollHorizontal,d.lang.rtl):Me(f)}),vn(()=>{qe.cancel()}),Object.assign(c,{scrollTo:Me,reset:oe,refresh:Ie}),{virtualScrollSliceRange:v,virtualScrollSliceSizeComputed:V,setVirtualScrollSize:ge,onVirtualScrollEvt:qe,localResetVirtualScroll:de,padVirtualScroll:me,scrollTo:Me,reset:oe,refresh:Ie}}function In(e,t,u){if(u<=t)return t;const s=u-t+1;let n=t+(e-t)%s;return n<t&&(n=s+n),n===0?0:n}function X(e,t=2,u="0"){if(e==null)return e;const s=""+e;return s.length>=t?s:new Array(t-s.length+1).join(u)+s}const Fn=e=>["add","add-unique","toggle"].includes(e),Oa=".*+?^${}()|[]\\",Aa=Object.keys(dn);var rn=Ue({name:"QSelect",inheritAttrs:!1,props:{...xa,...fn,...dn,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Fn},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...$n,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:u}){const{proxy:s}=ot(),{$q:n}=s,a=$(!1),r=$(!1),c=$(-1),d=$(""),w=$(!1),f=$(!1);let b=null,H=null,_,F,E,V=null,se,Ce,D,v;const B=$(null),J=$(null),ae=$(null),oe=$(null),Ie=$(null),Me=jl(e),ce=$l(Lt),fe=S(()=>Array.isArray(e.options)?e.options.length:0),he=S(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:we,virtualScrollSliceSizeComputed:de,localResetVirtualScroll:ge,padVirtualScroll:me,onVirtualScrollEvt:be,scrollTo:qe,setVirtualScrollSize:Fe}=ka({virtualScrollLength:fe,getVirtualScrollTarget:rt,getVirtualScrollEl:ht,virtualScrollItemSizeComputed:he}),g=Un(),M=S(()=>{const o=e.mapOptions===!0&&e.multiple!==!0,A=e.modelValue!==void 0&&(e.modelValue!==null||o===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const k=e.mapOptions===!0&&_!==void 0?_:[],j=A.map(ie=>T(ie,k));return e.modelValue===null&&o===!0?j.filter(ie=>ie!==null):j}return A}),L=S(()=>{const o={};return Aa.forEach(A=>{const k=e[A];k!==void 0&&(o[A]=k)}),o}),K=S(()=>e.optionsDark===null?g.isDark.value:e.optionsDark),ee=S(()=>wn(M.value)),R=S(()=>{let o="q-field__input q-placeholder col";return e.hideSelected===!0||M.value.length===0?[o,e.inputClass]:(o+=" q-field__input--padding",e.inputClass===void 0?o:[o,e.inputClass])}),P=S(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),te=S(()=>fe.value===0),C=S(()=>M.value.map(o=>pe.value(o)).join(", ")),ye=S(()=>e.displayValue!==void 0?e.displayValue:C.value),Z=S(()=>e.optionsHtml===!0?()=>!0:o=>o!=null&&o.html===!0),ue=S(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||M.value.some(Z.value))),ke=S(()=>g.focused.value===!0?e.tabindex:-1),Re=S(()=>{const o={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${g.targetUid.value}_lb`};return c.value>=0&&(o["aria-activedescendant"]=`${g.targetUid.value}_${c.value}`),o}),Te=S(()=>({id:`${g.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),He=S(()=>M.value.map((o,A)=>({index:A,opt:o,html:Z.value(o),selected:!0,removeAtIndex:ut,toggleOption:Be,tabindex:ke.value}))),_e=S(()=>{if(fe.value===0)return[];const{from:o,to:A}=we.value;return e.options.slice(o,A).map((k,j)=>{const ie=je.value(k)===!0,le=ne(k)===!0,Ve=o+j,Se={clickable:!0,active:le,activeClass:Pe.value,manualFocus:!0,focused:!1,disable:ie,tabindex:-1,dense:e.optionsDense,dark:K.value,role:"option","aria-selected":le===!0?"true":"false",id:`${g.targetUid.value}_${Ve}`,onClick:()=>{Be(k)}};return ie!==!0&&(c.value===Ve&&(Se.focused=!0),n.platform.is.desktop===!0&&(Se.onMousemove=()=>{a.value===!0&&h(Ve)})),{index:Ve,opt:k,html:Z.value(k),label:pe.value(k),selected:Se.active,focused:Se.focused,toggleOption:Be,setOptionIndex:h,itemProps:Se}})}),We=S(()=>e.dropdownIcon!==void 0?e.dropdownIcon:n.iconSet.arrow.dropdown),mt=S(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Pe=S(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),De=S(()=>Q(e.optionValue,"value")),pe=S(()=>Q(e.optionLabel,"label")),je=S(()=>Q(e.optionDisable,"disable")),Ze=S(()=>M.value.map(o=>De.value(o))),pt=S(()=>{const o={onInput:Lt,onChange:ce,onKeydown:Je,onKeyup:ve,onKeypress:Ye,onFocus:Oe,onClick(A){F===!0&&lt(A)}};return o.onCompositionstart=o.onCompositionupdate=o.onCompositionend=ce,o});Ae(M,o=>{_=o,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&g.innerLoading.value!==!0&&(r.value!==!0&&a.value!==!0||ee.value!==!0)&&(E!==!0&&_t(),(r.value===!0||a.value===!0)&&ct(""))},{immediate:!0}),Ae(()=>e.fillInput,_t),Ae(a,Gt),Ae(fe,Cl);function Xe(o){return e.emitValue===!0?De.value(o):o}function Ne(o){if(o>-1&&o<M.value.length)if(e.multiple===!0){const A=e.modelValue.slice();u("remove",{index:o,value:A.splice(o,1)[0]}),u("update:modelValue",A)}else u("update:modelValue",null)}function ut(o){Ne(o),g.focus()}function it(o,A){const k=Xe(o);if(e.multiple!==!0){e.fillInput===!0&&gt(pe.value(o),!0,!0),u("update:modelValue",k);return}if(M.value.length===0){u("add",{index:0,value:k}),u("update:modelValue",e.multiple===!0?[k]:k);return}if(A===!0&&ne(o)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const j=e.modelValue.slice();u("add",{index:j.length,value:k}),j.push(k),u("update:modelValue",j)}function Be(o,A){if(g.editable.value!==!0||o===void 0||je.value(o)===!0)return;const k=De.value(o);if(e.multiple!==!0){A!==!0&&(gt(e.fillInput===!0?pe.value(o):"",!0,!0),yt()),J.value!==null&&J.value.focus(),(M.value.length===0||Vt(De.value(M.value[0]),k)!==!0)&&u("update:modelValue",e.emitValue===!0?k:o);return}if((F!==!0||w.value===!0)&&g.focus(),Oe(),M.value.length===0){const le=e.emitValue===!0?k:o;u("add",{index:0,value:le}),u("update:modelValue",e.multiple===!0?[le]:le);return}const j=e.modelValue.slice(),ie=Ze.value.findIndex(le=>Vt(le,k));if(ie>-1)u("remove",{index:ie,value:j.splice(ie,1)[0]});else{if(e.maxValues!==void 0&&j.length>=e.maxValues)return;const le=e.emitValue===!0?k:o;u("add",{index:j.length,value:le}),j.push(le)}u("update:modelValue",j)}function h(o){if(n.platform.is.desktop!==!0)return;const A=o>-1&&o<fe.value?o:-1;c.value!==A&&(c.value=A)}function p(o=1,A){if(a.value===!0){let k=c.value;do k=In(k+o,-1,fe.value-1);while(k!==-1&&k!==c.value&&je.value(e.options[k])===!0);c.value!==k&&(h(k),qe(k),A!==!0&&e.useInput===!0&&e.fillInput===!0&&st(k>=0?pe.value(e.options[k]):se,!0))}}function T(o,A){const k=j=>Vt(De.value(j),o);return e.options.find(k)||A.find(k)||o}function Q(o,A){const k=o!==void 0?o:A;return typeof k=="function"?k:j=>j!==null&&typeof j=="object"&&k in j?j[k]:j}function ne(o){const A=De.value(o);return Ze.value.find(k=>Vt(k,A))!==void 0}function Oe(o){e.useInput===!0&&J.value!==null&&(o===void 0||J.value===o.target&&o.target.value===C.value)&&J.value.select()}function z(o){tl(o,27)===!0&&a.value===!0&&(lt(o),yt(),_t()),u("keyup",o)}function ve(o){const{value:A}=o.target;if(o.keyCode!==void 0){z(o);return}if(o.target.value="",b!==null&&(clearTimeout(b),b=null),H!==null&&(clearTimeout(H),H=null),_t(),typeof A=="string"&&A.length!==0){const k=A.toLocaleLowerCase(),j=le=>{const Ve=e.options.find(Se=>le.value(Se).toLocaleLowerCase()===k);return Ve===void 0?!1:(M.value.indexOf(Ve)===-1?Be(Ve):yt(),!0)},ie=le=>{j(De)!==!0&&(j(pe)===!0||le===!0||ct(A,!0,()=>ie(!0)))};ie()}else g.clearValue(o)}function Ye(o){u("keypress",o)}function Je(o){if(u("keydown",o),Kl(o)===!0)return;const A=d.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),k=o.shiftKey!==!0&&e.multiple!==!0&&(c.value>-1||A===!0);if(o.keyCode===27){It(o);return}if(o.keyCode===9&&k===!1){W();return}if(o.target===void 0||o.target.id!==g.targetUid.value||g.editable.value!==!0)return;if(o.keyCode===40&&g.innerLoading.value!==!0&&a.value===!1){Qe(o),ze();return}if(o.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&d.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ne(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&u("update:modelValue",null);return}(o.keyCode===35||o.keyCode===36)&&(typeof d.value!="string"||d.value.length===0)&&(Qe(o),c.value=-1,p(o.keyCode===36?1:-1,e.multiple)),(o.keyCode===33||o.keyCode===34)&&de.value!==void 0&&(Qe(o),c.value=Math.max(-1,Math.min(fe.value,c.value+(o.keyCode===33?-1:1)*de.value.view)),p(o.keyCode===33?1:-1,e.multiple)),(o.keyCode===38||o.keyCode===40)&&(Qe(o),p(o.keyCode===38?-1:1,e.multiple));const j=fe.value;if((D===void 0||v<Date.now())&&(D=""),j>0&&e.useInput!==!0&&o.key!==void 0&&o.key.length===1&&o.altKey===!1&&o.ctrlKey===!1&&o.metaKey===!1&&(o.keyCode!==32||D.length!==0)){a.value!==!0&&ze(o);const ie=o.key.toLocaleLowerCase(),le=D.length===1&&D[0]===ie;v=Date.now()+1500,le===!1&&(Qe(o),D+=ie);const Ve=new RegExp("^"+D.split("").map(en=>Oa.indexOf(en)>-1?"\\"+en:en).join(".*"),"i");let Se=c.value;if(le===!0||Se<0||Ve.test(pe.value(e.options[Se]))!==!0)do Se=In(Se+1,-1,j-1);while(Se!==c.value&&(je.value(e.options[Se])===!0||Ve.test(pe.value(e.options[Se]))!==!0));c.value!==Se&&Le(()=>{h(Se),qe(Se),Se>=0&&e.useInput===!0&&e.fillInput===!0&&st(pe.value(e.options[Se]),!0)});return}if(!(o.keyCode!==13&&(o.keyCode!==32||e.useInput===!0||D!=="")&&(o.keyCode!==9||k===!1))){if(o.keyCode!==9&&Qe(o),c.value>-1&&c.value<j){Be(e.options[c.value]);return}if(A===!0){const ie=(le,Ve)=>{if(Ve){if(Fn(Ve)!==!0)return}else Ve=e.newValueMode;if(gt("",e.multiple!==!0,!0),le==null)return;(Ve==="toggle"?Be:it)(le,Ve==="add-unique"),e.multiple!==!0&&(J.value!==null&&J.value.focus(),yt())};if(e.onNewValue!==void 0?u("newValue",d.value,ie):ie(d.value),e.multiple!==!0)return}a.value===!0?W():g.innerLoading.value!==!0&&ze()}}function ht(){return F===!0?Ie.value:ae.value!==null&&ae.value.contentEl!==null?ae.value.contentEl:void 0}function rt(){return ht()}function qt(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?He.value.map(o=>t["selected-item"](o)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?He.value.map((o,A)=>y(Ma,{key:"option-"+A,removable:g.editable.value===!0&&je.value(o.opt)!==!0,dense:!0,textColor:e.color,tabindex:ke.value,onRemove(){o.removeAtIndex(A)}},()=>y("span",{class:"ellipsis",[o.html===!0?"innerHTML":"textContent"]:pe.value(o.opt)}))):[y("span",{[ue.value===!0?"innerHTML":"textContent"]:ye.value})]}function wt(){if(te.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:d.value}):void 0;const o=t.option!==void 0?t.option:k=>y(Tt,{key:k.index,...k.itemProps},()=>y(Mt,()=>y(Xt,()=>y("span",{[k.html===!0?"innerHTML":"textContent"]:k.label}))));let A=me("div",_e.value.map(o));return t["before-options"]!==void 0&&(A=t["before-options"]().concat(A)),Ul(t["after-options"],A)}function zt(o,A){const k=A===!0?{...Re.value,...g.splitAttrs.attributes.value}:void 0,j={ref:A===!0?J:void 0,key:"i_t",class:R.value,style:e.inputStyle,value:d.value!==void 0?d.value:"",type:"search",...k,id:A===!0?g.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":o===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...pt.value};return o!==!0&&F===!0&&(Array.isArray(j.class)===!0?j.class=[...j.class,"no-pointer-events"]:j.class+=" no-pointer-events"),y("input",j)}function Lt(o){b!==null&&(clearTimeout(b),b=null),H!==null&&(clearTimeout(H),H=null),!(o&&o.target&&o.target.qComposing===!0)&&(st(o.target.value||""),E=!0,se=d.value,g.focused.value!==!0&&(F!==!0||w.value===!0)&&g.focus(),e.onFilter!==void 0&&(b=setTimeout(()=>{b=null,ct(d.value)},e.inputDebounce)))}function st(o,A){d.value!==o&&(d.value=o,A===!0||e.inputDebounce===0||e.inputDebounce==="0"?u("inputValue",o):H=setTimeout(()=>{H=null,u("inputValue",o)},e.inputDebounce))}function gt(o,A,k){E=k!==!0,e.useInput===!0&&(st(o,!0),(A===!0||k!==!0)&&(se=o),A!==!0&&ct(o))}function ct(o,A,k){if(e.onFilter===void 0||A!==!0&&g.focused.value!==!0)return;g.innerLoading.value===!0?u("filterAbort"):(g.innerLoading.value=!0,f.value=!0),o!==""&&e.multiple!==!0&&M.value.length!==0&&E!==!0&&o===pe.value(M.value[0])&&(o="");const j=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);V!==null&&clearTimeout(V),V=j,u("filter",o,(ie,le)=>{(A===!0||g.focused.value===!0)&&V===j&&(clearTimeout(V),typeof ie=="function"&&ie(),f.value=!1,Le(()=>{g.innerLoading.value=!1,g.editable.value===!0&&(A===!0?a.value===!0&&yt():a.value===!0?Gt(!0):a.value=!0),typeof le=="function"&&Le(()=>{le(s)}),typeof k=="function"&&Le(()=>{k(s)})}))},()=>{g.focused.value===!0&&V===j&&(clearTimeout(V),g.innerLoading.value=!1,f.value=!1),a.value===!0&&(a.value=!1)})}function Jt(){return y(cl,{ref:ae,class:P.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&te.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:K.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:mt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Te.value,onScrollPassive:be,onBeforeShow:yn,onBeforeHide:l,onShow:i},wt)}function l(o){Sn(o),W()}function i(){Fe()}function m(o){lt(o),J.value!==null&&J.value.focus(),w.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function q(o){lt(o),Le(()=>{w.value=!1})}function x(){const o=[y(_a,{class:`col-auto ${g.fieldClass.value}`,...L.value,for:g.targetUid.value,dark:K.value,square:!0,loading:f.value,itemAligned:!1,filled:!0,stackLabel:d.value.length!==0,...g.splitAttrs.listeners.value,onFocus:m,onBlur:q},{...t,rawControl:()=>g.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&o.push(y("div",{ref:Ie,class:P.value+" scroll",style:e.popupContentStyle,...Te.value,onClick:It,onScrollPassive:be},wt())),y(Kt,{ref:oe,modelValue:r.value,position:e.useInput===!0?"top":void 0,transitionShow:Ce,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:yn,onBeforeHide:U,onHide:I,onShow:N},()=>y("div",{class:"q-select__dialog"+(K.value===!0?" q-select__dialog--dark q-dark":"")+(w.value===!0?" q-select__dialog--focused":"")},o))}function U(o){Sn(o),oe.value!==null&&oe.value.__updateRefocusTarget(g.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),g.focused.value=!1}function I(o){yt(),g.focused.value===!1&&u("blur",o),_t()}function N(){const o=document.activeElement;(o===null||o.id!==g.targetUid.value)&&J.value!==null&&J.value!==o&&J.value.focus(),Fe()}function W(){r.value!==!0&&(c.value=-1,a.value===!0&&(a.value=!1),g.focused.value===!1&&(V!==null&&(clearTimeout(V),V=null),g.innerLoading.value===!0&&(u("filterAbort"),g.innerLoading.value=!1,f.value=!1)))}function ze(o){g.editable.value===!0&&(F===!0?(g.onControlFocusin(o),r.value=!0,Le(()=>{g.focus()})):g.focus(),e.onFilter!==void 0?ct(d.value):(te.value!==!0||t["no-option"]!==void 0)&&(a.value=!0))}function yt(){r.value=!1,W()}function _t(){e.useInput===!0&&gt(e.multiple!==!0&&e.fillInput===!0&&M.value.length!==0&&pe.value(M.value[0])||"",!0,!0)}function Gt(o){let A=-1;if(o===!0){if(M.value.length!==0){const k=De.value(M.value[0]);A=e.options.findIndex(j=>Vt(De.value(j),k))}ge(A)}h(A)}function Cl(o,A){a.value===!0&&g.innerLoading.value===!1&&(ge(-1,!0),Le(()=>{a.value===!0&&g.innerLoading.value===!1&&(o>A?ge():Gt(!0))}))}function gn(){r.value===!1&&ae.value!==null&&ae.value.updatePosition()}function yn(o){o!==void 0&&lt(o),u("popupShow",o),g.hasPopupOpen=!0,g.onControlFocusin(o)}function Sn(o){o!==void 0&&lt(o),u("popupHide",o),g.hasPopupOpen=!1,g.onControlFocusout(o)}function bn(){F=n.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||te.value===!1:!0),Ce=n.platform.is.ios===!0&&F===!0&&e.useInput===!0?"fade":e.transitionShow}return Nl(bn),Ql(gn),bn(),vn(()=>{b!==null&&clearTimeout(b),H!==null&&clearTimeout(H)}),Object.assign(s,{showPopup:ze,hidePopup:yt,removeAtIndex:Ne,add:it,toggleOption:Be,getOptionIndex:()=>c.value,setOptionIndex:h,moveOptionSelection:p,filter:ct,updateMenuPosition:gn,updateInputValue:gt,isOptionSelected:ne,getEmittingOptionValue:Xe,isOptionDisabled:(...o)=>je.value.apply(null,o)===!0,getOptionValue:(...o)=>De.value.apply(null,o),getOptionLabel:(...o)=>pe.value.apply(null,o)}),Object.assign(g,{innerValue:M,fieldClass:S(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:B,targetRef:J,hasValue:ee,showPopup:ze,floatingLabel:S(()=>e.hideSelected!==!0&&ee.value===!0||typeof d.value=="number"||d.value.length!==0||wn(e.displayValue)),getControlChild:()=>{if(g.editable.value!==!1&&(r.value===!0||te.value!==!0||t["no-option"]!==void 0))return F===!0?x():Jt();g.hasPopupOpen===!0&&(g.hasPopupOpen=!1)},controlEvents:{onFocusin(o){g.onControlFocusin(o)},onFocusout(o){g.onControlFocusout(o,()=>{_t(),W()})},onClick(o){if(It(o),F!==!0&&a.value===!0){W(),J.value!==null&&J.value.focus();return}ze(o)}},getControl:o=>{const A=qt(),k=o===!0||r.value!==!0||F!==!0;if(e.useInput===!0)A.push(zt(o,k));else if(g.editable.value===!0){const ie=k===!0?Re.value:void 0;A.push(y("input",{ref:k===!0?J:void 0,key:"d_t",class:"q-select__focus-target",id:k===!0?g.targetUid.value:void 0,value:ye.value,readonly:!0,"data-autofocus":o===!0||e.autofocus===!0||void 0,...ie,onKeydown:Je,onKeyup:z,onKeypress:Ye})),k===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&A.push(y("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:ve}))}if(Me.value!==void 0&&e.disable!==!0&&Ze.value.length!==0){const ie=Ze.value.map(le=>y("option",{value:le,selected:!0}));A.push(y("select",{class:"hidden",name:Me.value,multiple:e.multiple},ie))}const j=e.useInput===!0||k!==!0?void 0:g.splitAttrs.attributes.value;return y("div",{class:"q-field__native row items-center",...j,...g.splitAttrs.listeners.value},A)},getInnerAppend:()=>e.loading!==!0&&f.value!==!0&&e.hideDropdownIcon!==!0?[y(at,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:We.value})]:null}),Kn(g)}});const ft=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Ha(e,t,u){return Object.prototype.toString.call(e)==="[object Date]"&&(u=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),Ea(mn(e,t,u))}function Yn(e,t,u){return fl(Ya(e,t,u))}function Ia(e){return Fa(e)===0}function $t(e,t){return t<=6?31:t<=11||Ia(e)?30:29}function Fa(e){const t=ft.length;let u=ft[0],s,n,a,r,c;if(e<u||e>=ft[t-1])throw new Error("Invalid Jalaali year "+e);for(c=1;c<t&&(s=ft[c],n=s-u,!(e<s));c+=1)u=s;return r=e-u,n-r<6&&(r=r-n+re(n+4,33)*33),a=Ee(Ee(r+1,33)-1,4),a===-1&&(a=4),a}function vl(e,t){const u=ft.length,s=e+621;let n=-14,a=ft[0],r,c,d,w,f;if(e<a||e>=ft[u-1])throw new Error("Invalid Jalaali year "+e);for(f=1;f<u&&(r=ft[f],c=r-a,!(e<r));f+=1)n=n+re(c,33)*8+re(Ee(c,33),4),a=r;w=e-a,n=n+re(w,33)*8+re(Ee(w,33)+3,4),Ee(c,33)===4&&c-w===4&&(n+=1);const b=re(s,4)-re((re(s,100)+1)*3,4)-150,H=20+n-b;return t||(c-w<6&&(w=w-c+re(c+4,33)*33),d=Ee(Ee(w+1,33)-1,4),d===-1&&(d=4)),{leap:d,gy:s,march:H}}function Ya(e,t,u){const s=vl(e,!0);return mn(s.gy,3,s.march)+(t-1)*31-re(t,7)*(t-7)+u-1}function Ea(e){const t=fl(e).gy;let u=t-621,s,n,a;const r=vl(u,!1),c=mn(t,3,r.march);if(a=e-c,a>=0){if(a<=185)return n=1+re(a,31),s=Ee(a,31)+1,{jy:u,jm:n,jd:s};a-=186}else u-=1,a+=179,r.leap===1&&(a+=1);return n=7+re(a,30),s=Ee(a,30)+1,{jy:u,jm:n,jd:s}}function mn(e,t,u){let s=re((e+re(t-8,6)+100100)*1461,4)+re(153*Ee(t+9,12)+2,5)+u-34840408;return s=s-re(re(e+100100+re(t-8,6),100)*3,4)+752,s}function fl(e){let t=4*e+139361631;t=t+re(re(4*e+183187720,146097)*3,4)*4-3908;const u=re(Ee(t,1461),4)*5+308,s=re(Ee(u,153),5)+1,n=Ee(re(u,153),12)+1;return{gy:re(t,1461)-100100+re(8-n,6),gm:n,gd:s}}function re(e,t){return~~(e/t)}function Ee(e,t){return e-~~(e/t)*t}const Ta=["gregorian","persian"],ml={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Ta.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},hl=["update:modelValue"];function tt(e){return e.year+"/"+X(e.month)+"/"+X(e.day)}function gl(e,t){const u=S(()=>e.disable!==!0&&e.readonly!==!0),s=S(()=>u.value===!0?0:-1),n=S(()=>{const c=[];return e.color!==void 0&&c.push(`bg-${e.color}`),e.textColor!==void 0&&c.push(`text-${e.textColor}`),c.join(" ")});function a(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function r(c){const d=new Date,w=c===!0?null:0;if(e.calendar==="persian"){const f=Ha(d);return{year:f.jy,month:f.jm,day:f.jd}}return{year:d.getFullYear(),month:d.getMonth()+1,day:d.getDate(),hour:w,minute:w,second:w,millisecond:w}}return{editable:u,tabindex:s,headerClass:n,getLocale:a,getCurrentDate:r}}const yl=864e5,Pa=36e5,sn=6e4,Sl="YYYY-MM-DDTHH:mm:ss.SSSZ",Ba=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,za=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,an={};function La(e,t){const u="("+t.days.join("|")+")",s=e+u;if(an[s]!==void 0)return an[s];const n="("+t.daysShort.join("|")+")",a="("+t.months.join("|")+")",r="("+t.monthsShort.join("|")+")",c={};let d=0;const w=e.replace(za,b=>{switch(d++,b){case"YY":return c.YY=d,"(-?\\d{1,2})";case"YYYY":return c.YYYY=d,"(-?\\d{1,4})";case"M":return c.M=d,"(\\d{1,2})";case"MM":return c.M=d,"(\\d{2})";case"MMM":return c.MMM=d,r;case"MMMM":return c.MMMM=d,a;case"D":return c.D=d,"(\\d{1,2})";case"Do":return c.D=d++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return c.D=d,"(\\d{2})";case"H":return c.H=d,"(\\d{1,2})";case"HH":return c.H=d,"(\\d{2})";case"h":return c.h=d,"(\\d{1,2})";case"hh":return c.h=d,"(\\d{2})";case"m":return c.m=d,"(\\d{1,2})";case"mm":return c.m=d,"(\\d{2})";case"s":return c.s=d,"(\\d{1,2})";case"ss":return c.s=d,"(\\d{2})";case"S":return c.S=d,"(\\d{1})";case"SS":return c.S=d,"(\\d{2})";case"SSS":return c.S=d,"(\\d{3})";case"A":return c.A=d,"(AM|PM)";case"a":return c.a=d,"(am|pm)";case"aa":return c.aa=d,"(a\\.m\\.|p\\.m\\.)";case"ddd":return n;case"dddd":return u;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return c.Z=d,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return c.ZZ=d,"(Z|[+-]\\d{2}\\d{2})";case"X":return c.X=d,"(-?\\d+)";case"x":return c.x=d,"(-?\\d{4,})";default:return d--,b[0]==="["&&(b=b.substring(1,b.length-1)),b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),f={map:c,regex:new RegExp("^"+w)};return an[s]=f,f}function bl(e,t){return e!==void 0?e:t!==void 0?t.date:Xl.date}function En(e,t=""){const u=e>0?"-":"+",s=Math.abs(e),n=Math.floor(s/60),a=s%60;return u+X(n)+t+X(a)}function Ht(e,t,u,s,n){const a={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(n!==void 0&&Object.assign(a,n),e==null||e===""||typeof e!="string")return a;t===void 0&&(t=Sl);const r=bl(u,nl.props),c=r.months,d=r.monthsShort,{regex:w,map:f}=La(t,r),b=e.match(w);if(b===null)return a;let H="";if(f.X!==void 0||f.x!==void 0){const _=parseInt(b[f.X!==void 0?f.X:f.x],10);if(isNaN(_)===!0||_<0)return a;const F=new Date(_*(f.X!==void 0?1e3:1));a.year=F.getFullYear(),a.month=F.getMonth()+1,a.day=F.getDate(),a.hour=F.getHours(),a.minute=F.getMinutes(),a.second=F.getSeconds(),a.millisecond=F.getMilliseconds()}else{if(f.YYYY!==void 0)a.year=parseInt(b[f.YYYY],10);else if(f.YY!==void 0){const _=parseInt(b[f.YY],10);a.year=_<0?_:2e3+_}if(f.M!==void 0){if(a.month=parseInt(b[f.M],10),a.month<1||a.month>12)return a}else f.MMM!==void 0?a.month=d.indexOf(b[f.MMM])+1:f.MMMM!==void 0&&(a.month=c.indexOf(b[f.MMMM])+1);if(f.D!==void 0){if(a.day=parseInt(b[f.D],10),a.year===null||a.month===null||a.day<1)return a;const _=s!=="persian"?new Date(a.year,a.month,0).getDate():$t(a.year,a.month);if(a.day>_)return a}f.H!==void 0?a.hour=parseInt(b[f.H],10)%24:f.h!==void 0&&(a.hour=parseInt(b[f.h],10)%12,(f.A&&b[f.A]==="PM"||f.a&&b[f.a]==="pm"||f.aa&&b[f.aa]==="p.m.")&&(a.hour+=12),a.hour=a.hour%24),f.m!==void 0&&(a.minute=parseInt(b[f.m],10)%60),f.s!==void 0&&(a.second=parseInt(b[f.s],10)%60),f.S!==void 0&&(a.millisecond=parseInt(b[f.S],10)*10**(3-b[f.S].length)),(f.Z!==void 0||f.ZZ!==void 0)&&(H=f.Z!==void 0?b[f.Z].replace(":",""):b[f.ZZ],a.timezoneOffset=(H[0]==="+"?-1:1)*(60*H.slice(1,3)+1*H.slice(3,5)))}return a.dateHash=X(a.year,6)+"/"+X(a.month)+"/"+X(a.day),a.timeHash=X(a.hour)+":"+X(a.minute)+":"+X(a.second)+H,a}function Tn(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const u=new Date(t.getFullYear(),0,4);u.setDate(u.getDate()-(u.getDay()+6)%7+3);const s=t.getTimezoneOffset()-u.getTimezoneOffset();t.setHours(t.getHours()-s);const n=(t-u)/(yl*7);return 1+Math.floor(n)}function nt(e,t,u){const s=new Date(e),n=`set${u===!0?"UTC":""}`;switch(t){case"year":case"years":s[`${n}Month`](0);case"month":case"months":s[`${n}Date`](1);case"day":case"days":case"date":s[`${n}Hours`](0);case"hour":case"hours":s[`${n}Minutes`](0);case"minute":case"minutes":s[`${n}Seconds`](0);case"second":case"seconds":s[`${n}Milliseconds`](0)}return s}function jt(e,t,u){return(e.getTime()-e.getTimezoneOffset()*sn-(t.getTime()-t.getTimezoneOffset()*sn))/u}function pl(e,t,u="days"){const s=new Date(e),n=new Date(t);switch(u){case"years":case"year":return s.getFullYear()-n.getFullYear();case"months":case"month":return(s.getFullYear()-n.getFullYear())*12+s.getMonth()-n.getMonth();case"days":case"day":case"date":return jt(nt(s,"day"),nt(n,"day"),yl);case"hours":case"hour":return jt(nt(s,"hour"),nt(n,"hour"),Pa);case"minutes":case"minute":return jt(nt(s,"minute"),nt(n,"minute"),sn);case"seconds":case"second":return jt(nt(s,"second"),nt(n,"second"),1e3)}}function Pn(e){return pl(e,nt(e,"year"),"days")+1}function Bn(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const zn={YY(e,t,u){const s=this.YYYY(e,t,u)%100;return s>=0?X(s):"-"+X(Math.abs(s))},YYYY(e,t,u){return u!=null?u:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return X(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Bn(this.Q(e))},D(e){return e.getDate()},Do(e){return Bn(e.getDate())},DD(e){return X(e.getDate())},DDD(e){return Pn(e)},DDDD(e){return X(Pn(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Tn(e)},ww(e){return X(Tn(e))},H(e){return e.getHours()},HH(e){return X(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return X(this.h(e))},m(e){return e.getMinutes()},mm(e){return X(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return X(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return X(Math.floor(e.getMilliseconds()/10))},SSS(e){return X(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,u,s){const n=s==null?e.getTimezoneOffset():s;return En(n,":")},ZZ(e,t,u,s){const n=s==null?e.getTimezoneOffset():s;return En(n)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function wl(e,t,u,s,n){if(e!==0&&!e||e===1/0||e===-1/0)return;const a=new Date(e);if(isNaN(a))return;t===void 0&&(t=Sl);const r=bl(u,nl.props);return t.replace(Ba,(c,d)=>c in zn?zn[c](a,r,s,n):d===void 0?c:d.split("\\]").join("]"))}const St=20,Ra=["Calendar","Years","Months"],Ln=e=>Ra.includes(e),on=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Ct=" \u2014 ";function dt(e){return e.year+"/"+X(e.month)}var cn=Ue({name:"QDate",props:{...ml,...fn,...Pt,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:on},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:on},navigationMaxYearMonth:{type:String,validator:on},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Ln}},emits:[...hl,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:u}){const{proxy:s}=ot(),{$q:n}=s,a=Bt(e,n),{getCache:r}=pa(),{tabindex:c,headerClass:d,getLocale:w,getCurrentDate:f}=gl(e,n);let b;const H=ll(e),_=al(H),F=$(null),E=$(ut()),V=$(w()),se=S(()=>ut()),Ce=S(()=>w()),D=S(()=>f()),v=$(Be(E.value,V.value)),B=$(e.defaultView),J=n.lang.rtl===!0?"right":"left",ae=$(J.value),oe=$(J.value),Ie=v.value.year,Me=$(Ie-Ie%St-(Ie<0?St:0)),ce=$(null),fe=S(()=>{const l=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${l} q-date--${l}-${e.minimal===!0?"minimal":"standard"}`+(a.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),he=S(()=>e.color||"primary"),we=S(()=>e.textColor||"white"),de=S(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),ge=S(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),me=S(()=>ge.value.filter(l=>typeof l=="string").map(l=>it(l,E.value,V.value)).filter(l=>l.dateHash!==null&&l.day!==null&&l.month!==null&&l.year!==null)),be=S(()=>{const l=i=>it(i,E.value,V.value);return ge.value.filter(i=>Wl(i)===!0&&i.from!==void 0&&i.to!==void 0).map(i=>({from:l(i.from),to:l(i.to)})).filter(i=>i.from.dateHash!==null&&i.to.dateHash!==null&&i.from.dateHash<i.to.dateHash)}),qe=S(()=>e.calendar!=="persian"?l=>new Date(l.year,l.month-1,l.day):l=>{const i=Yn(l.year,l.month,l.day);return new Date(i.gy,i.gm-1,i.gd)}),Fe=S(()=>e.calendar==="persian"?tt:(l,i,m)=>wl(new Date(l.year,l.month-1,l.day,l.hour,l.minute,l.second,l.millisecond),i===void 0?E.value:i,m===void 0?V.value:m,l.year,l.timezoneOffset)),g=S(()=>me.value.length+be.value.reduce((l,i)=>l+1+pl(qe.value(i.to),qe.value(i.from)),0)),M=S(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(ce.value!==null){const m=ce.value.init,q=qe.value(m);return V.value.daysShort[q.getDay()]+", "+V.value.monthsShort[m.month-1]+" "+m.day+Ct+"?"}if(g.value===0)return Ct;if(g.value>1)return`${g.value} ${V.value.pluralDay}`;const l=me.value[0],i=qe.value(l);return isNaN(i.valueOf())===!0?Ct:V.value.headerTitle!==void 0?V.value.headerTitle(i,l):V.value.daysShort[i.getDay()]+", "+V.value.monthsShort[l.month-1]+" "+l.day}),L=S(()=>me.value.concat(be.value.map(i=>i.from)).sort((i,m)=>i.year-m.year||i.month-m.month)[0]),K=S(()=>me.value.concat(be.value.map(i=>i.to)).sort((i,m)=>m.year-i.year||m.month-i.month)[0]),ee=S(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(g.value===0)return Ct;if(g.value>1){const l=L.value,i=K.value,m=V.value.monthsShort;return m[l.month-1]+(l.year!==i.year?" "+l.year+Ct+m[i.month-1]+" ":l.month!==i.month?Ct+m[i.month-1]:"")+" "+i.year}return me.value[0].year}),R=S(()=>{const l=[n.iconSet.datetime.arrowLeft,n.iconSet.datetime.arrowRight];return n.lang.rtl===!0?l.reverse():l}),P=S(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):V.value.firstDayOfWeek),te=S(()=>{const l=V.value.daysShort,i=P.value;return i>0?l.slice(i,7).concat(l.slice(0,i)):l}),C=S(()=>{const l=v.value;return e.calendar!=="persian"?new Date(l.year,l.month,0).getDate():$t(l.year,l.month)}),ye=S(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),Z=S(()=>{if(e.navigationMinYearMonth===void 0)return null;const l=e.navigationMinYearMonth.split("/");return{year:parseInt(l[0],10),month:parseInt(l[1],10)}}),ue=S(()=>{if(e.navigationMaxYearMonth===void 0)return null;const l=e.navigationMaxYearMonth.split("/");return{year:parseInt(l[0],10),month:parseInt(l[1],10)}}),ke=S(()=>{const l={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return Z.value!==null&&Z.value.year>=v.value.year&&(l.year.prev=!1,Z.value.year===v.value.year&&Z.value.month>=v.value.month&&(l.month.prev=!1)),ue.value!==null&&ue.value.year<=v.value.year&&(l.year.next=!1,ue.value.year===v.value.year&&ue.value.month<=v.value.month&&(l.month.next=!1)),l}),Re=S(()=>{const l={};return me.value.forEach(i=>{const m=dt(i);l[m]===void 0&&(l[m]=[]),l[m].push(i.day)}),l}),Te=S(()=>{const l={};return be.value.forEach(i=>{const m=dt(i.from),q=dt(i.to);if(l[m]===void 0&&(l[m]=[]),l[m].push({from:i.from.day,to:m===q?i.to.day:void 0,range:i}),m<q){let x;const{year:U,month:I}=i.from,N=I<12?{year:U,month:I+1}:{year:U+1,month:1};for(;(x=dt(N))<=q;)l[x]===void 0&&(l[x]=[]),l[x].push({from:void 0,to:x===q?i.to.day:void 0,range:i}),N.month++,N.month>12&&(N.year++,N.month=1)}}),l}),He=S(()=>{if(ce.value===null)return;const{init:l,initHash:i,final:m,finalHash:q}=ce.value,[x,U]=i<=q?[l,m]:[m,l],I=dt(x),N=dt(U);if(I!==_e.value&&N!==_e.value)return;const W={};return I===_e.value?(W.from=x.day,W.includeFrom=!0):W.from=1,N===_e.value?(W.to=U.day,W.includeTo=!0):W.to=C.value,W}),_e=S(()=>dt(v.value)),We=S(()=>{const l={};if(e.options===void 0){for(let m=1;m<=C.value;m++)l[m]=!0;return l}const i=typeof e.options=="function"?e.options:m=>e.options.includes(m);for(let m=1;m<=C.value;m++){const q=_e.value+"/"+X(m);l[m]=i(q)}return l}),mt=S(()=>{const l={};if(e.events===void 0)for(let i=1;i<=C.value;i++)l[i]=!1;else{const i=typeof e.events=="function"?e.events:m=>e.events.includes(m);for(let m=1;m<=C.value;m++){const q=_e.value+"/"+X(m);l[m]=i(q)===!0&&ye.value(q)}}return l}),Pe=S(()=>{let l,i;const{year:m,month:q}=v.value;if(e.calendar!=="persian")l=new Date(m,q-1,1),i=new Date(m,q-1,0).getDate();else{const x=Yn(m,q,1);l=new Date(x.gy,x.gm-1,x.gd);let U=q-1,I=m;U===0&&(U=12,I--),i=$t(I,U)}return{days:l.getDay()-P.value-1,endDay:i}}),De=S(()=>{const l=[],{days:i,endDay:m}=Pe.value,q=i<0?i+7:i;if(q<6)for(let I=m-q;I<=m;I++)l.push({i:I,fill:!0});const x=l.length;for(let I=1;I<=C.value;I++){const N={i:I,event:mt.value[I],classes:[]};We.value[I]===!0&&(N.in=!0,N.flat=!0),l.push(N)}if(Re.value[_e.value]!==void 0&&Re.value[_e.value].forEach(I=>{const N=x+I-1;Object.assign(l[N],{selected:!0,unelevated:!0,flat:!1,color:he.value,textColor:we.value})}),Te.value[_e.value]!==void 0&&Te.value[_e.value].forEach(I=>{if(I.from!==void 0){const N=x+I.from-1,W=x+(I.to||C.value)-1;for(let ze=N;ze<=W;ze++)Object.assign(l[ze],{range:I.range,unelevated:!0,color:he.value,textColor:we.value});Object.assign(l[N],{rangeFrom:!0,flat:!1}),I.to!==void 0&&Object.assign(l[W],{rangeTo:!0,flat:!1})}else if(I.to!==void 0){const N=x+I.to-1;for(let W=x;W<=N;W++)Object.assign(l[W],{range:I.range,unelevated:!0,color:he.value,textColor:we.value});Object.assign(l[N],{flat:!1,rangeTo:!0})}else{const N=x+C.value-1;for(let W=x;W<=N;W++)Object.assign(l[W],{range:I.range,unelevated:!0,color:he.value,textColor:we.value})}}),He.value!==void 0){const I=x+He.value.from-1,N=x+He.value.to-1;for(let W=I;W<=N;W++)l[W].color=he.value,l[W].editRange=!0;He.value.includeFrom===!0&&(l[I].editRangeFrom=!0),He.value.includeTo===!0&&(l[N].editRangeTo=!0)}v.value.year===D.value.year&&v.value.month===D.value.month&&(l[x+D.value.day-1].today=!0);const U=l.length%7;if(U>0){const I=7-U;for(let N=1;N<=I;N++)l.push({i:N,fill:!0})}return l.forEach(I=>{let N="q-date__calendar-item ";I.fill===!0?N+="q-date__calendar-item--fill":(N+=`q-date__calendar-item--${I.in===!0?"in":"out"}`,I.range!==void 0&&(N+=` q-date__range${I.rangeTo===!0?"-to":I.rangeFrom===!0?"-from":""}`),I.editRange===!0&&(N+=` q-date__edit-range${I.editRangeFrom===!0?"-from":""}${I.editRangeTo===!0?"-to":""}`),(I.range!==void 0||I.editRange===!0)&&(N+=` text-${I.color}`)),I.classes=N}),l}),pe=S(()=>e.disable===!0?{"aria-disabled":"true"}:{});Ae(()=>e.modelValue,l=>{if(b===l)b=0;else{const i=Be(E.value,V.value);ve(i.year,i.month,i)}}),Ae(B,()=>{F.value!==null&&s.$el.contains(document.activeElement)===!0&&F.value.focus()}),Ae(()=>v.value.year+"|"+v.value.month,()=>{u("navigation",{year:v.value.year,month:v.value.month})}),Ae(se,l=>{zt(l,V.value,"mask"),E.value=l}),Ae(Ce,l=>{zt(E.value,l,"locale"),V.value=l});function je(){const{year:l,month:i,day:m}=D.value,q={...v.value,year:l,month:i,day:m},x=Re.value[dt(q)];(x===void 0||x.includes(q.day)===!1)&&qt(q),Xe(q.year,q.month)}function Ze(l){Ln(l)===!0&&(B.value=l)}function pt(l,i){["month","year"].includes(l)&&(l==="month"?p:T)(i===!0?-1:1)}function Xe(l,i){B.value="Calendar",ve(l,i)}function Ne(l,i){if(e.range===!1||!l){ce.value=null;return}const m=Object.assign({...v.value},l),q=i!==void 0?Object.assign({...v.value},i):m;ce.value={init:m,initHash:tt(m),final:q,finalHash:tt(q)},Xe(m.year,m.month)}function ut(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function it(l,i,m){return Ht(l,i,m,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Be(l,i){const m=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(m.length===0)return h();const q=m[m.length-1],x=it(q.from!==void 0?q.from:q,l,i);return x.dateHash===null?h():x}function h(){let l,i;if(e.defaultYearMonth!==void 0){const m=e.defaultYearMonth.split("/");l=parseInt(m[0],10),i=parseInt(m[1],10)}else{const m=D.value!==void 0?D.value:f();l=m.year,i=m.month}return{year:l,month:i,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:l+"/"+X(i)+"/01"}}function p(l){let i=v.value.year,m=Number(v.value.month)+l;m===13?(m=1,i++):m===0&&(m=12,i--),ve(i,m),de.value===!0&&Je("month")}function T(l){const i=Number(v.value.year)+l;ve(i,v.value.month),de.value===!0&&Je("year")}function Q(l){ve(l,v.value.month),B.value=e.defaultView==="Years"?"Months":"Calendar",de.value===!0&&Je("year")}function ne(l){ve(v.value.year,l),B.value="Calendar",de.value===!0&&Je("month")}function Oe(l,i){const m=Re.value[i];(m!==void 0&&m.includes(l.day)===!0?wt:qt)(l)}function z(l){return{year:l.year,month:l.month,day:l.day}}function ve(l,i,m){if(Z.value!==null&&l<=Z.value.year&&((i<Z.value.month||l<Z.value.year)&&(i=Z.value.month),l=Z.value.year),ue.value!==null&&l>=ue.value.year&&((i>ue.value.month||l>ue.value.year)&&(i=ue.value.month),l=ue.value.year),m!==void 0){const{hour:x,minute:U,second:I,millisecond:N,timezoneOffset:W,timeHash:ze}=m;Object.assign(v.value,{hour:x,minute:U,second:I,millisecond:N,timezoneOffset:W,timeHash:ze})}const q=l+"/"+X(i)+"/01";q!==v.value.dateHash&&(ae.value=v.value.dateHash<q==(n.lang.rtl!==!0)?"left":"right",l!==v.value.year&&(oe.value=ae.value),Le(()=>{Me.value=l-l%St-(l<0?St:0),Object.assign(v.value,{year:l,month:i,day:1,dateHash:q})}))}function Ye(l,i,m){const q=l!==null&&l.length===1&&e.multiple===!1?l[0]:l;b=q;const{reason:x,details:U}=ht(i,m);u("update:modelValue",q,x,U)}function Je(l){const i=me.value[0]!==void 0&&me.value[0].dateHash!==null?{...me.value[0]}:{...v.value};Le(()=>{i.year=v.value.year,i.month=v.value.month;const m=e.calendar!=="persian"?new Date(i.year,i.month,0).getDate():$t(i.year,i.month);i.day=Math.min(Math.max(1,i.day),m);const q=rt(i);b=q;const{details:x}=ht("",i);u("update:modelValue",q,l,x)})}function ht(l,i){return i.from!==void 0?{reason:`${l}-range`,details:{...z(i.target),from:z(i.from),to:z(i.to)}}:{reason:`${l}-day`,details:z(i)}}function rt(l,i,m){return l.from!==void 0?{from:Fe.value(l.from,i,m),to:Fe.value(l.to,i,m)}:Fe.value(l,i,m)}function qt(l){let i;if(e.multiple===!0)if(l.from!==void 0){const m=tt(l.from),q=tt(l.to),x=me.value.filter(I=>I.dateHash<m||I.dateHash>q),U=be.value.filter(({from:I,to:N})=>N.dateHash<m||I.dateHash>q);i=x.concat(U).concat(l).map(I=>rt(I))}else{const m=ge.value.slice();m.push(rt(l)),i=m}else i=rt(l);Ye(i,"add",l)}function wt(l){if(e.noUnset===!0)return;let i=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const m=rt(l);l.from!==void 0?i=e.modelValue.filter(q=>q.from!==void 0?q.from!==m.from&&q.to!==m.to:!0):i=e.modelValue.filter(q=>q!==m),i.length===0&&(i=null)}Ye(i,"remove",l)}function zt(l,i,m){const q=me.value.concat(be.value).map(x=>rt(x,l,i)).filter(x=>x.from!==void 0?x.from.dateHash!==null&&x.to.dateHash!==null:x.dateHash!==null);u("update:modelValue",(e.multiple===!0?q:q[0])||null,m)}function Lt(){if(e.minimal!==!0)return y("div",{class:"q-date__header "+d.value},[y("div",{class:"relative-position"},[y(vt,{name:"q-transition--fade"},()=>y("div",{key:"h-yr-"+ee.value,class:"q-date__header-subtitle q-date__header-link "+(B.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:c.value,...r("vY",{onClick(){B.value="Years"},onKeyup(l){l.keyCode===13&&(B.value="Years")}})},[ee.value]))]),y("div",{class:"q-date__header-title relative-position flex no-wrap"},[y("div",{class:"relative-position col"},[y(vt,{name:"q-transition--fade"},()=>y("div",{key:"h-sub"+M.value,class:"q-date__header-title-label q-date__header-link "+(B.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:c.value,...r("vC",{onClick(){B.value="Calendar"},onKeyup(l){l.keyCode===13&&(B.value="Calendar")}})},[M.value]))]),e.todayBtn===!0?y(xe,{class:"q-date__header-today self-start",icon:n.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:c.value,onClick:je}):null])])}function st({label:l,type:i,key:m,dir:q,goTo:x,boundaries:U,cls:I}){return[y("div",{class:"row items-center q-date__arrow"},[y(xe,{round:!0,dense:!0,size:"sm",flat:!0,icon:R.value[0],tabindex:c.value,disable:U.prev===!1,...r("go-#"+i,{onClick(){x(-1)}})})]),y("div",{class:"relative-position overflow-hidden flex flex-center"+I},[y(vt,{name:"q-transition--jump-"+q},()=>y("div",{key:m},[y(xe,{flat:!0,dense:!0,noCaps:!0,label:l,tabindex:c.value,...r("view#"+i,{onClick:()=>{B.value=i}})})]))]),y("div",{class:"row items-center q-date__arrow"},[y(xe,{round:!0,dense:!0,size:"sm",flat:!0,icon:R.value[1],tabindex:c.value,disable:U.next===!1,...r("go+#"+i,{onClick(){x(1)}})})])]}const gt={Calendar:()=>[y("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[y("div",{class:"q-date__navigation row items-center no-wrap"},st({label:V.value.months[v.value.month-1],type:"Months",key:v.value.month,dir:ae.value,goTo:p,boundaries:ke.value.month,cls:" col"}).concat(st({label:v.value.year,type:"Years",key:v.value.year,dir:oe.value,goTo:T,boundaries:ke.value.year,cls:""}))),y("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},te.value.map(l=>y("div",{class:"q-date__calendar-item"},[y("div",l)]))),y("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[y(vt,{name:"q-transition--slide-"+ae.value},()=>y("div",{key:_e.value,class:"q-date__calendar-days fit"},De.value.map(l=>y("div",{class:l.classes},[l.in===!0?y(xe,{class:l.today===!0?"q-date__today":"",dense:!0,flat:l.flat,unelevated:l.unelevated,color:l.color,textColor:l.textColor,label:l.i,tabindex:c.value,...r("day#"+l.i,{onClick:()=>{ct(l.i)},onMouseover:()=>{Jt(l.i)}})},l.event!==!1?()=>y("div",{class:"q-date__event bg-"+l.event}):null):y("div",""+l.i)]))))])])],Months(){const l=v.value.year===D.value.year,i=q=>Z.value!==null&&v.value.year===Z.value.year&&Z.value.month>q||ue.value!==null&&v.value.year===ue.value.year&&ue.value.month<q,m=V.value.monthsShort.map((q,x)=>{const U=v.value.month===x+1;return y("div",{class:"q-date__months-item flex flex-center"},[y(xe,{class:l===!0&&D.value.month===x+1?"q-date__today":null,flat:U!==!0,label:q,unelevated:U,color:U===!0?he.value:null,textColor:U===!0?we.value:null,tabindex:c.value,disable:i(x+1),...r("month#"+x,{onClick:()=>{ne(x+1)}})})])});return e.yearsInMonthView===!0&&m.unshift(y("div",{class:"row no-wrap full-width"},[st({label:v.value.year,type:"Years",key:v.value.year,dir:oe.value,goTo:T,boundaries:ke.value.year,cls:" col"})])),y("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},m)},Years(){const l=Me.value,i=l+St,m=[],q=x=>Z.value!==null&&Z.value.year>x||ue.value!==null&&ue.value.year<x;for(let x=l;x<=i;x++){const U=v.value.year===x;m.push(y("div",{class:"q-date__years-item flex flex-center"},[y(xe,{key:"yr"+x,class:D.value.year===x?"q-date__today":null,flat:!U,label:x,dense:!0,unelevated:U,color:U===!0?he.value:null,textColor:U===!0?we.value:null,tabindex:c.value,disable:q(x),...r("yr#"+x,{onClick:()=>{Q(x)}})})]))}return y("div",{class:"q-date__view q-date__years flex flex-center"},[y("div",{class:"col-auto"},[y(xe,{round:!0,dense:!0,flat:!0,icon:R.value[0],tabindex:c.value,disable:q(l),...r("y-",{onClick:()=>{Me.value-=St}})})]),y("div",{class:"q-date__years-content col self-stretch row items-center"},m),y("div",{class:"col-auto"},[y(xe,{round:!0,dense:!0,flat:!0,icon:R.value[1],tabindex:c.value,disable:q(i),...r("y+",{onClick:()=>{Me.value+=St}})})])])}};function ct(l){const i={...v.value,day:l};if(e.range===!1){Oe(i,_e.value);return}if(ce.value===null){const m=De.value.find(x=>x.fill!==!0&&x.i===l);if(e.noUnset!==!0&&m.range!==void 0){wt({target:i,from:m.range.from,to:m.range.to});return}if(m.selected===!0){wt(i);return}const q=tt(i);ce.value={init:i,initHash:q,final:i,finalHash:q},u("rangeStart",z(i))}else{const m=ce.value.initHash,q=tt(i),x=m<=q?{from:ce.value.init,to:i}:{from:i,to:ce.value.init};ce.value=null,qt(m===q?i:{target:i,...x}),u("rangeEnd",{from:z(x.from),to:z(x.to)})}}function Jt(l){if(ce.value!==null){const i={...v.value,day:l};Object.assign(ce.value,{final:i,finalHash:tt(i)})}}return Object.assign(s,{setToday:je,setView:Ze,offsetCalendar:pt,setCalendarTo:Xe,setEditingRange:Ne}),()=>{const l=[y("div",{class:"q-date__content col relative-position"},[y(vt,{name:"q-transition--fade"},gt[B.value])])],i=Zt(t.default);return i!==void 0&&l.push(y("div",{class:"q-date__actions"},i)),e.name!==void 0&&e.disable!==!0&&_(l,"push"),y("div",{class:fe.value,...pe.value},[Lt(),y("div",{ref:F,class:"q-date__main col column",tabindex:-1},l)])}}});const ja=y("div",{class:"q-space"});var Na=Ue({name:"QSpace",setup(){return()=>ja}}),Rn=Ue({name:"QInnerLoading",props:{...Pt,...Xn,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:t}){const u=ot(),s=Bt(e,u.proxy.$q),{transitionProps:n,transitionStyle:a}=Wn(e),r=S(()=>"q-inner-loading absolute-full column flex-center"+(s.value===!0?" q-inner-loading--dark":"")),c=S(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function d(){const f=[y(Zl,{size:e.size,color:e.color})];return e.label!==void 0&&f.push(y("div",{class:c.value,style:e.labelStyle},[e.label])),f}function w(){return e.showing===!0?y("div",{class:r.value,style:a.value},t.default!==void 0?t.default():d()):null}return()=>y(vt,n.value,w)}});const Qa=[y("circle",{cx:"50",cy:"50",r:"44",fill:"none","stroke-width":"4","stroke-opacity":".5",stroke:"currentColor"}),y("circle",{cx:"8",cy:"54",r:"6",fill:"currentColor","stroke-width":"3",stroke:"currentColor"},[y("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 48",to:"360 50 52",dur:"2s",repeatCount:"indefinite"})])];var $a=Ue({name:"QSpinnerOrbit",props:Jl,setup(e){const{cSize:t,classes:u}=Gl(e);return()=>y("svg",{class:u.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},Qa)}}),Nt=Ue({name:"QPopupProxy",props:{...rl,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:t,emit:u,attrs:s}){const{proxy:n}=ot(),{$q:a}=n,r=$(!1),c=$(null),d=S(()=>parseInt(e.breakpoint,10)),{canShow:w}=sl({showing:r});function f(){return a.screen.width<d.value||a.screen.height<d.value?"dialog":"menu"}const b=$(f()),H=S(()=>b.value==="menu"?{maxHeight:"99vh"}:{});Ae(()=>f(),E=>{r.value!==!0&&(b.value=E)});function _(E){r.value=!0,u("show",E)}function F(E){r.value=!1,b.value=f(),u("hide",E)}return Object.assign(n,{show(E){w(E)===!0&&c.value.show(E)},hide(E){c.value.hide(E)},toggle(E){c.value.toggle(E)}}),ea(n,"currentComponent",()=>({type:b.value,ref:c.value})),()=>{const E={ref:c,...H.value,...s,onShow:_,onHide:F};let V;return b.value==="dialog"?V=Kt:(V=cl,Object.assign(E,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),y(V,E,t.default)}}});function un(e,t,u){const s=Et(e);let n,a=s.left-t.event.x,r=s.top-t.event.y,c=Math.abs(a),d=Math.abs(r);const w=t.direction;w.horizontal===!0&&w.vertical!==!0?n=a<0?"left":"right":w.horizontal!==!0&&w.vertical===!0?n=r<0?"up":"down":w.up===!0&&r<0?(n="up",c>d&&(w.left===!0&&a<0?n="left":w.right===!0&&a>0&&(n="right"))):w.down===!0&&r>0?(n="down",c>d&&(w.left===!0&&a<0?n="left":w.right===!0&&a>0&&(n="right"))):w.left===!0&&a<0?(n="left",c<d&&(w.up===!0&&r<0?n="up":w.down===!0&&r>0&&(n="down"))):w.right===!0&&a>0&&(n="right",c<d&&(w.up===!0&&r<0?n="up":w.down===!0&&r>0&&(n="down")));let f=!1;if(n===void 0&&u===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};n=t.event.lastDir,f=!0,n==="left"||n==="right"?(s.left-=a,c=0,a=0):(s.top-=r,d=0,r=0)}return{synthetic:f,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:s,direction:n,isFirst:t.event.isFirst,isFinal:u===!0,duration:Date.now()-t.event.time,distance:{x:c,y:d},offset:{x:a,y:r},delta:{x:s.left-t.event.lastX,y:s.top-t.event.lastY}}}}let Ka=0;var Ua=ol({name:"touch-pan",beforeMount(e,{value:t,modifiers:u}){if(u.mouse!==!0&&xt.has.touch!==!0)return;function s(a,r){u.mouse===!0&&r===!0?Qe(a):(u.stop===!0&&lt(a),u.prevent===!0&&It(a))}const n={uid:"qvtp_"+Ka++,handler:t,modifiers:u,direction:On(u),noop:Jn,mouseStart(a){An(a,n)&&ta(a)&&(Rt(n,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),n.start(a,!0))},touchStart(a){if(An(a,n)){const r=a.target;Rt(n,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),n.start(a)}},start(a,r){if(xt.is.firefox===!0&&tn(e,!0),n.lastEvt=a,r===!0||u.stop===!0){if(n.direction.all!==!0&&(r!==!0||n.modifiers.mouseAllDir!==!0&&n.modifiers.mousealldir!==!0)){const w=a.type.indexOf("mouse")>-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&It(w),a.cancelBubble===!0&&lt(w),Object.assign(w,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[n.uid]:a.qClonedBy.concat(n.uid)}),n.initialEvent={target:a.target,event:w}}lt(a)}const{left:c,top:d}=Et(a);n.event={x:c,y:d,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:c,lastY:d}},move(a){if(n.event===void 0)return;const r=Et(a),c=r.left-n.event.x,d=r.top-n.event.y;if(c===0&&d===0)return;n.lastEvt=a;const w=n.event.mouse===!0,f=()=>{s(a,w);let _;u.preserveCursor!==!0&&u.preservecursor!==!0&&(_=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),w===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),wa(),n.styleCleanup=F=>{if(n.styleCleanup=void 0,_!==void 0&&(document.documentElement.style.cursor=_),document.body.classList.remove("non-selectable"),w===!0){const E=()=>{document.body.classList.remove("no-pointer-events--children")};F!==void 0?setTimeout(()=>{E(),F()},50):E()}else F!==void 0&&F()}};if(n.event.detected===!0){n.event.isFirst!==!0&&s(a,n.event.mouse);const{payload:_,synthetic:F}=un(a,n,!1);_!==void 0&&(n.handler(_)===!1?n.end(a):(n.styleCleanup===void 0&&n.event.isFirst===!0&&f(),n.event.lastX=_.position.left,n.event.lastY=_.position.top,n.event.lastDir=F===!0?void 0:_.direction,n.event.isFirst=!1));return}if(n.direction.all===!0||w===!0&&(n.modifiers.mouseAllDir===!0||n.modifiers.mousealldir===!0)){f(),n.event.detected=!0,n.move(a);return}const b=Math.abs(c),H=Math.abs(d);b!==H&&(n.direction.horizontal===!0&&b>H||n.direction.vertical===!0&&b<H||n.direction.up===!0&&b<H&&d<0||n.direction.down===!0&&b<H&&d>0||n.direction.left===!0&&b>H&&c<0||n.direction.right===!0&&b>H&&c>0?(n.event.detected=!0,n.move(a)):n.end(a,!0))},end(a,r){if(n.event!==void 0){if(nn(n,"temp"),xt.is.firefox===!0&&tn(e,!1),r===!0)n.styleCleanup!==void 0&&n.styleCleanup(),n.event.detected!==!0&&n.initialEvent!==void 0&&n.initialEvent.target.dispatchEvent(n.initialEvent.event);else if(n.event.detected===!0){n.event.isFirst===!0&&n.handler(un(a===void 0?n.lastEvt:a,n).payload);const{payload:c}=un(a===void 0?n.lastEvt:a,n,!0),d=()=>{n.handler(c)};n.styleCleanup!==void 0?n.styleCleanup(d):d()}n.event=void 0,n.initialEvent=void 0,n.lastEvt=void 0}}};if(e.__qtouchpan=n,u.mouse===!0){const a=u.mouseCapture===!0||u.mousecapture===!0?"Capture":"";Rt(n,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}xt.has.touch===!0&&Rt(n,"main",[[e,"touchstart","touchStart",`passive${u.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const u=e.__qtouchpan;u!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&u.end(),u.handler=t.value),u.direction=On(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),nn(t,"main"),nn(t,"temp"),xt.is.firefox===!0&&tn(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});function Xa(e,t){if(e.hour!==null){if(e.minute===null)return"minute";if(t===!0&&e.second===null)return"second"}return"hour"}function Wa(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var jn=Ue({name:"QTime",props:{...Pt,...fn,...ml,mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:hl,setup(e,{slots:t,emit:u}){const s=ot(),{$q:n}=s.proxy,a=Bt(e,n),{tabindex:r,headerClass:c,getLocale:d,getCurrentDate:w}=gl(e,n),f=ll(e),b=al(f);let H,_;const F=$(null),E=S(()=>ee()),V=S(()=>d()),se=S(()=>R()),Ce=Ht(e.modelValue,E.value,V.value,e.calendar,se.value),D=$(Xa(Ce)),v=$(Ce),B=$(Ce.hour===null||Ce.hour<12),J=S(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(a.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),ae=S(()=>{const h=v.value;return{hour:h.hour===null?"--":oe.value===!0?X(h.hour):String(B.value===!0?h.hour===0?12:h.hour:h.hour>12?h.hour-12:h.hour),minute:h.minute===null?"--":X(h.minute),second:h.second===null?"--":X(h.second)}}),oe=S(()=>e.format24h!==null?e.format24h:n.lang.date.format24h),Ie=S(()=>{const h=D.value==="hour",p=h===!0?12:60,T=v.value[D.value];let ne=`rotate(${Math.round(T*(360/p))-180}deg) translateX(-50%)`;return h===!0&&oe.value===!0&&v.value.hour>=12&&(ne+=" scale(.7)"),{transform:ne}}),Me=S(()=>v.value.hour!==null),ce=S(()=>Me.value===!0&&v.value.minute!==null),fe=S(()=>e.hourOptions!==void 0?h=>e.hourOptions.includes(h):e.options!==void 0?h=>e.options(h,null,null):null),he=S(()=>e.minuteOptions!==void 0?h=>e.minuteOptions.includes(h):e.options!==void 0?h=>e.options(v.value.hour,h,null):null),we=S(()=>e.secondOptions!==void 0?h=>e.secondOptions.includes(h):e.options!==void 0?h=>e.options(v.value.hour,v.value.minute,h):null),de=S(()=>{if(fe.value===null)return null;const h=M(0,11,fe.value),p=M(12,11,fe.value);return{am:h,pm:p,values:h.values.concat(p.values)}}),ge=S(()=>he.value!==null?M(0,59,he.value):null),me=S(()=>we.value!==null?M(0,59,we.value):null),be=S(()=>{switch(D.value){case"hour":return de.value;case"minute":return ge.value;case"second":return me.value}}),qe=S(()=>{let h,p,T=0,Q=1;const ne=be.value!==null?be.value.values:void 0;D.value==="hour"?oe.value===!0?(h=0,p=23):(h=0,p=11,B.value===!1&&(T=12)):(h=0,p=55,Q=5);const Oe=[];for(let z=h,ve=h;z<=p;z+=Q,ve++){const Ye=z+T,Je=ne!==void 0&&ne.includes(Ye)===!1,ht=D.value==="hour"&&z===0?oe.value===!0?"00":"12":z;Oe.push({val:Ye,index:ve,disable:Je,label:ht})}return Oe}),Fe=S(()=>[[Ua,C,void 0,{stop:!0,prevent:!0,mouse:!0}]]);Ae(()=>e.modelValue,h=>{const p=Ht(h,E.value,V.value,e.calendar,se.value);(p.dateHash!==v.value.dateHash||p.timeHash!==v.value.timeHash)&&(v.value=p,p.hour===null?D.value="hour":B.value=p.hour<12)}),Ae([E,V],()=>{Le(()=>{ut()})});function g(){const h={...w(),...Wa()};ut(h),Object.assign(v.value,h),D.value="hour"}function M(h,p,T){const Q=Array.apply(null,{length:p+1}).map((ne,Oe)=>{const z=Oe+h;return{index:z,val:T(z)===!0}}).filter(ne=>ne.val===!0).map(ne=>ne.index);return{min:Q[0],max:Q[Q.length-1],values:Q,threshold:p+1}}function L(h,p,T){const Q=Math.abs(h-p);return Math.min(Q,T-Q)}function K(h,{min:p,max:T,values:Q,threshold:ne}){if(h===p)return p;if(h<p||h>T)return L(h,p,ne)<=L(h,T,ne)?p:T;const Oe=Q.findIndex(Ye=>h<=Ye),z=Q[Oe-1],ve=Q[Oe];return h-z<=ve-h?z:ve}function ee(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function R(){if(typeof e.defaultDate!="string"){const h=w(!0);return h.dateHash=tt(h),h}return Ht(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function P(){return ul(s)===!0||be.value!==null&&(be.value.values.length===0||D.value==="hour"&&oe.value!==!0&&de.value[B.value===!0?"am":"pm"].values.length===0)}function te(){const h=F.value,{top:p,left:T,width:Q}=h.getBoundingClientRect(),ne=Q/2;return{top:p+ne,left:T+ne,dist:ne*.7}}function C(h){if(P()!==!0){if(h.isFirst===!0){H=te(),_=Z(h.evt,H);return}_=Z(h.evt,H,_),h.isFinal===!0&&(H=!1,_=null,ye())}}function ye(){D.value==="hour"?D.value="minute":e.withSeconds&&D.value==="minute"&&(D.value="second")}function Z(h,p,T){const Q=Et(h),ne=Math.abs(Q.top-p.top),Oe=Math.sqrt(Math.pow(Math.abs(Q.top-p.top),2)+Math.pow(Math.abs(Q.left-p.left),2));let z,ve=Math.asin(ne/Oe)*(180/Math.PI);if(Q.top<p.top?ve=p.left<Q.left?90-ve:270+ve:ve=p.left<Q.left?ve+90:270-ve,D.value==="hour"){if(z=ve/30,de.value!==null){const Ye=oe.value!==!0?B.value===!0:de.value.am.values.length!==0&&de.value.pm.values.length!==0?Oe>=p.dist:de.value.am.values.length!==0;z=K(z+(Ye===!0?0:12),de.value[Ye===!0?"am":"pm"])}else z=Math.round(z),oe.value===!0?Oe<p.dist?z<12&&(z+=12):z===12&&(z=0):B.value===!0&&z===12?z=0:B.value===!1&&z!==12&&(z+=12);oe.value===!0&&(B.value=z<12)}else z=Math.round(ve/6)%60,D.value==="minute"&&ge.value!==null?z=K(z,ge.value):D.value==="second"&&me.value!==null&&(z=K(z,me.value));return T!==z&&je[D.value](z),z}const ue={hour(){D.value="hour"},minute(){D.value="minute"},second(){D.value="second"}};function ke(h){h.keyCode===13&&Ze()}function Re(h){h.keyCode===13&&pt()}function Te(h){P()!==!0&&(n.platform.is.desktop!==!0&&Z(h,te()),ye())}function He(h){P()!==!0&&Z(h,te())}function _e(h){if(h.keyCode===13)D.value="hour";else if([37,39].includes(h.keyCode)){const p=h.keyCode===37?-1:1;if(de.value!==null){const T=oe.value===!0?de.value.values:de.value[B.value===!0?"am":"pm"].values;if(T.length===0)return;if(v.value.hour===null)Pe(T[0]);else{const Q=(T.length+T.indexOf(v.value.hour)+p)%T.length;Pe(T[Q])}}else{const T=oe.value===!0?24:12,Q=oe.value!==!0&&B.value===!1?12:0,ne=v.value.hour===null?-p:v.value.hour;Pe(Q+(24+ne+p)%T)}}}function We(h){if(h.keyCode===13)D.value="minute";else if([37,39].includes(h.keyCode)){const p=h.keyCode===37?-1:1;if(ge.value!==null){const T=ge.value.values;if(T.length===0)return;if(v.value.minute===null)De(T[0]);else{const Q=(T.length+T.indexOf(v.value.minute)+p)%T.length;De(T[Q])}}else{const T=v.value.minute===null?-p:v.value.minute;De((60+T+p)%60)}}}function mt(h){if(h.keyCode===13)D.value="second";else if([37,39].includes(h.keyCode)){const p=h.keyCode===37?-1:1;if(me.value!==null){const T=me.value.values;if(T.length===0)return;if(v.value.seconds===null)pe(T[0]);else{const Q=(T.length+T.indexOf(v.value.second)+p)%T.length;pe(T[Q])}}else{const T=v.value.second===null?-p:v.value.second;pe((60+T+p)%60)}}}function Pe(h){v.value.hour!==h&&(v.value.hour=h,Ne())}function De(h){v.value.minute!==h&&(v.value.minute=h,Ne())}function pe(h){v.value.second!==h&&(v.value.second=h,Ne())}const je={hour:Pe,minute:De,second:pe};function Ze(){B.value===!1&&(B.value=!0,v.value.hour!==null&&(v.value.hour-=12,Ne()))}function pt(){B.value===!0&&(B.value=!1,v.value.hour!==null&&(v.value.hour+=12,Ne()))}function Xe(h){const p=e.modelValue;D.value!==h&&p!==void 0&&p!==null&&p!==""&&typeof p!="string"&&(D.value=h)}function Ne(){if(fe.value!==null&&fe.value(v.value.hour)!==!0){v.value=Ht(),Xe("hour");return}if(he.value!==null&&he.value(v.value.minute)!==!0){v.value.minute=null,v.value.second=null,Xe("minute");return}if(e.withSeconds===!0&&we.value!==null&&we.value(v.value.second)!==!0){v.value.second=null,Xe("second");return}v.value.hour===null||v.value.minute===null||e.withSeconds===!0&&v.value.second===null||ut()}function ut(h){const p=Object.assign({...v.value},h),T=e.calendar==="persian"?X(p.hour)+":"+X(p.minute)+(e.withSeconds===!0?":"+X(p.second):""):wl(new Date(p.year,p.month===null?null:p.month-1,p.day,p.hour,p.minute,p.second,p.millisecond),E.value,V.value,p.year,p.timezoneOffset);p.changed=T!==e.modelValue,u("update:modelValue",T,p)}function it(){const h=[y("div",{class:"q-time__link "+(D.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:r.value,onClick:ue.hour,onKeyup:_e},ae.value.hour),y("div",":"),y("div",Me.value===!0?{class:"q-time__link "+(D.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:r.value,onKeyup:We,onClick:ue.minute}:{class:"q-time__link"},ae.value.minute)];e.withSeconds===!0&&h.push(y("div",":"),y("div",ce.value===!0?{class:"q-time__link "+(D.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:r.value,onKeyup:mt,onClick:ue.second}:{class:"q-time__link"},ae.value.second));const p=[y("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},h)];return oe.value===!1&&p.push(y("div",{class:"q-time__header-ampm column items-between no-wrap"},[y("div",{class:"q-time__link "+(B.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:r.value,onClick:Ze,onKeyup:ke},"AM"),y("div",{class:"q-time__link "+(B.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:r.value,onClick:pt,onKeyup:Re},"PM")])),y("div",{class:"q-time__header flex flex-center no-wrap "+c.value},p)}function Be(){const h=v.value[D.value];return y("div",{class:"q-time__content col relative-position"},[y(vt,{name:"q-transition--scale"},()=>y("div",{key:"clock"+D.value,class:"q-time__container-parent absolute-full"},[y("div",{ref:F,class:"q-time__container-child fit overflow-hidden"},[Ot(y("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:Te,onMousedown:He},[y("div",{class:"q-time__clock-circle fit"},[y("div",{class:"q-time__clock-pointer"+(v.value[D.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:Ie.value}),qe.value.map(p=>y("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${p.index}`+(p.val===h?" q-time__clock-position--active "+c.value:p.disable===!0?" q-time__clock-position--disable":"")},[y("span",p.label)]))])]),Fe.value)])])),e.nowBtn===!0?y(xe,{class:"q-time__now-button absolute",icon:n.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:r.value,onClick:g}):null])}return s.proxy.setNow=g,()=>{const h=[Be()],p=Zt(t.default);return p!==void 0&&h.push(y("div",{class:"q-time__actions"},p)),e.name!==void 0&&e.disable!==!0&&b(h,"push"),y("div",{class:J.value,tabindex:-1},[it(),y("div",{class:"q-time__main col overflow-auto"},h)])}}}),Za=Ue({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:u}){const s=ot(),n=$(null);let a=0;const r=[];function c(_){const F=typeof _=="boolean"?_:e.noErrorFocus!==!0,E=++a,V=(D,v)=>{u("validation"+(D===!0?"Success":"Error"),v)},se=D=>{const v=D.validate();return typeof v.then=="function"?v.then(B=>({valid:B,comp:D}),B=>({valid:!1,comp:D,err:B})):Promise.resolve({valid:v,comp:D})};return(e.greedy===!0?Promise.all(r.map(se)).then(D=>D.filter(v=>v.valid!==!0)):r.reduce((D,v)=>D.then(()=>se(v).then(B=>{if(B.valid===!1)return Promise.reject(B)})),Promise.resolve()).catch(D=>[D])).then(D=>{if(D===void 0||D.length===0)return E===a&&V(!0),!0;if(E===a){const{comp:v,err:B}=D[0];if(B!==void 0&&console.error(B),V(!1,v),F===!0){const J=D.find(({comp:ae})=>typeof ae.focus=="function"&&ul(ae.$)===!1);J!==void 0&&J.comp.focus()}}return!1})}function d(){a++,r.forEach(_=>{typeof _.resetValidation=="function"&&_.resetValidation()})}function w(_){_!==void 0&&Qe(_);const F=a+1;c().then(E=>{F===a&&E===!0&&(e.onSubmit!==void 0?u("submit",_):_!==void 0&&_.target!==void 0&&typeof _.target.submit=="function"&&_.target.submit())})}function f(_){_!==void 0&&Qe(_),u("reset"),Le(()=>{d(),e.autofocus===!0&&e.noResetFocus!==!0&&b()})}function b(){Zn(()=>{if(n.value===null)return;const _=n.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||n.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||n.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(n.value.querySelectorAll("[tabindex]"),F=>F.tabIndex>-1);_!=null&&_.focus({preventScroll:!0})})}na(aa,{bindComponent(_){r.push(_)},unbindComponent(_){const F=r.indexOf(_);F>-1&&r.splice(F,1)}});let H=!1;return Gn(()=>{H=!0}),el(()=>{H===!0&&e.autofocus===!0&&b()}),la(()=>{e.autofocus===!0&&b()}),Object.assign(s.proxy,{validate:c,resetValidation:d,submit:w,reset:f,focus:b,getValidationComponents:()=>r}),()=>y("form",{class:"q-form",ref:n,onSubmit:w,onReset:f},Zt(t.default))}});function Nn(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var Qt=ol({name:"close-popup",beforeMount(e,{value:t}){const u={depth:Nn(t),handler(s){u.depth!==0&&setTimeout(()=>{const n=oa(e);n!==void 0&&ua(n,s,u.depth)})},handlerKey(s){tl(s,13)===!0&&u.handler(s)}};e.__qclosepopup=u,e.addEventListener("click",u.handler),e.addEventListener("keyup",u.handlerKey)},updated(e,{value:t,oldValue:u}){t!==u&&(e.__qclosepopup.depth=Nn(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});class Qn{constructor(t,u){this.databaseName=t,this.version=u,this.db=null}openDB(t,u){return new Promise((s,n)=>{const a=indexedDB.open(this.databaseName,this.version);a.onupgradeneeded=r=>{const c=r.target.result;c.objectStoreNames.contains(t)||c.createObjectStore(t,{keyPath:u})},a.onsuccess=r=>{this.db=r.target.result,s(this.db)},a.onerror=r=>{n(`Database error: ${r.target.errorCode}`)}})}add(t,u){return new Promise((s,n)=>{const c=this.db.transaction(t,"readwrite").objectStore(t).add(JSON.parse(JSON.stringify(u)));c.onsuccess=()=>s(u),c.onerror=d=>n(`Add error: ${d.target.errorCode}`)})}get(t,u){return new Promise((s,n)=>{const c=this.db.transaction(t,"readonly").objectStore(t).get(u);c.onsuccess=d=>s(d.target.result),c.onerror=d=>n(`Get error: ${d.target.errorCode}`)})}getAll(t){return new Promise((u,s)=>{const r=this.db.transaction(t,"readonly").objectStore(t).getAll();r.onsuccess=c=>u(c.target.result),r.onerror=c=>s(`Get all error: ${c.target.errorCode}`)})}update(t,u){return new Promise((s,n)=>{const c=this.db.transaction(t,"readwrite").objectStore(t).put(JSON.parse(JSON.stringify(u)));c.onsuccess=()=>s(u),c.onerror=d=>n(`Update error: ${d.target.errorCode}`)})}delete(t,u){return new Promise((s,n)=>{const c=this.db.transaction(t,"readwrite").objectStore(t).delete(u);c.onsuccess=()=>s(u),c.onerror=d=>n(`Delete error: ${d.target.errorCode}`)})}}const _l={data(){return{vehicles:[]}},methods:{async addVehicle(e){const t=new Qn("vehicles",1);return await t.openDB("vehicles","id"),await t.add("vehicles",e)?(this.vehicles.push(e),!0):!1},async getVehicles(){const e=new Qn("vehicles",1);await e.openDB("vehicles","id"),this.vehicles=await e.getAll("vehicles")}}},Ja={name:"AppointmentsForm",mixins:[_l],data(){return{searchLoading:!1,appointment:{vehicle:null,renterName:"",contactPerson:"",contactNumber:"",milageAllowance:null,initialLocation:"",agreedRate:null,withDownpayment:!1,downpaymentAmount:null,dateFrom:"",dateTo:"",reminderHours:null}}},methods:{submitForm(){}},mounted(){this.getVehicles()}},Ga={class:"row q-pt-sm"},eo={class:"col-12 q-pa-sm"},to={class:"row"},no={class:"col-12 q-pa-sm"},lo={class:"row"},ao={class:"col-6 q-pa-sm"},oo={class:"col-6 q-pa-sm"},uo={class:"row"},io={class:"col-6 q-pa-sm"},ro={class:"col-6 q-pa-sm"},so={key:0},co={key:1},vo={key:0},fo={key:1},mo={class:"row q-pt-sm"},ho={class:"col-6 q-pa-sm q-py-md"},go={class:"col-6 q-pa-sm"},yo={class:"row"},So={class:"col-6 q-pa-sm"},bo={class:"row items-center justify-end"},po={class:"row items-center justify-end"},wo={class:"col-6 q-pa-sm"},_o={class:"row items-center justify-end"},Co={class:"row items-center justify-end"},Mo={class:"row"},Do={class:"col-6 q-pa-sm"},qo={class:"col-6 q-pa-sm"};function Vo(e,t,u,s,n,a){return $e(),Ut(At,{class:"q-pa-md"},{default:Y(()=>[O(Za,{onSubmit:va(a.submitForm,["prevent"])},{default:Y(()=>[O(et,null,{default:Y(()=>[G("div",Ga,[G("div",eo,[O(rn,{outlined:"",modelValue:n.appointment.vehicle,"onUpdate:modelValue":t[0]||(t[0]=r=>n.appointment.vehicle=r),options:e.vehicles.map(r=>({label:r.model+" ( "+r.name+" )",value:r.id})),label:"Select Vehicle",required:""},null,8,["modelValue","options"])])]),G("div",to,[G("div",no,[O(Ge,{label:"Name of Renter",outlined:"",modelValue:n.appointment.renterName,"onUpdate:modelValue":t[1]||(t[1]=r=>n.appointment.renterName=r),required:""},null,8,["modelValue"])])]),G("div",lo,[G("div",ao,[O(Ge,{label:"Contact Person",outlined:"",modelValue:n.appointment.contactPerson,"onUpdate:modelValue":t[2]||(t[2]=r=>n.appointment.contactPerson=r),required:""},null,8,["modelValue"])]),G("div",oo,[O(Ge,{type:"tel",label:"Contact Number",outlined:"",modelValue:n.appointment.contactNumber,"onUpdate:modelValue":t[3]||(t[3]=r=>n.appointment.contactNumber=r),required:""},null,8,["modelValue"])])]),G("div",uo,[G("div",io,[O(Ge,{type:"number",label:"Milage Allowance",outlined:"",modelValue:n.appointment.milageAllowance,"onUpdate:modelValue":t[4]||(t[4]=r=>n.appointment.milageAllowance=r)},null,8,["modelValue"])]),G("div",ro,[O(rn,{outlined:"",color:"primary",modelValue:n.appointment.initialLocation,"onUpdate:modelValue":t[5]||(t[5]=r=>n.appointment.initialLocation=r),"use-input":"",options:e.locations,"map-options":"",label:"Initial location",onInput:e.searchLocation,loading:n.searchLoading,onFilter:e.searchLocation},{prepend:Y(()=>[O(at,{name:"place",color:"primary"})]),"no-option":Y(()=>[O(Tt,null,{default:Y(()=>[O(Mt,{class:"text-grey"},{default:Y(()=>[n.searchLoading?($e(),bt("div",co,[O(Rn,{size:"sm",showing:n.searchLoading,label:"Please wait..."},null,8,["showing"])])):($e(),bt("div",so," No results "))]),_:1})]),_:1})]),option:Y(r=>[n.searchLoading?($e(),bt("div",fo,[O(Rn,{size:"sm",showing:n.searchLoading},{default:Y(()=>[O($a,{color:"primary",size:"15px"})]),_:1},8,["showing"])])):($e(),bt("div",vo,[O(Tt,ia(r.itemProps,ra(r.itemEvents)),{default:Y(()=>[O(Mt,null,{default:Y(()=>[O(Xt,null,{default:Y(()=>[Ft(Yt(r.opt.name),1)]),_:2},1024),O(Xt,{caption:""},{default:Y(()=>[Ft(Yt(r.opt.completeName),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]))]),_:1},8,["modelValue","options","onInput","loading","onFilter"])])]),G("div",mo,[G("div",ho,[O(sa,{modelValue:n.appointment.withDownpayment,"onUpdate:modelValue":t[6]||(t[6]=r=>n.appointment.withDownpayment=r),label:"With Downpayment"},null,8,["modelValue"])]),G("div",go,[n.appointment.withDownpayment?($e(),Ut(Ge,{key:0,type:"number",label:"Downpayment Amount",outlined:"",modelValue:n.appointment.downpaymentAmount,"onUpdate:modelValue":t[7]||(t[7]=r=>n.appointment.downpaymentAmount=r)},null,8,["modelValue"])):ca("",!0)])]),G("div",yo,[G("div",So,[O(Ge,{filled:"",modelValue:n.appointment.dateRange,"onUpdate:modelValue":t[10]||(t[10]=r=>n.appointment.dateRange=r),label:"Starting date and time"},{prepend:Y(()=>[O(at,{name:"event",class:"cursor-pointer"},{default:Y(()=>[O(Nt,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:Y(()=>[O(cn,{modelValue:e.date,"onUpdate:modelValue":t[8]||(t[8]=r=>e.date=r),mask:"YYYY-MM-DD HH:mm"},{default:Y(()=>[G("div",bo,[Ot(O(xe,{label:"Close",color:"primary",flat:""},null,512),[[Qt]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),append:Y(()=>[O(at,{name:"access_time",class:"cursor-pointer"},{default:Y(()=>[O(Nt,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:Y(()=>[O(jn,{modelValue:e.date,"onUpdate:modelValue":t[9]||(t[9]=r=>e.date=r),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:Y(()=>[G("div",po,[Ot(O(xe,{label:"Close",color:"primary",flat:""},null,512),[[Qt]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),G("div",wo,[O(Ge,{filled:"",modelValue:n.appointment.dateRange,"onUpdate:modelValue":t[13]||(t[13]=r=>n.appointment.dateRange=r),label:"Ending date and time"},{prepend:Y(()=>[O(at,{name:"event",class:"cursor-pointer"},{default:Y(()=>[O(Nt,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:Y(()=>[O(cn,{modelValue:e.date,"onUpdate:modelValue":t[11]||(t[11]=r=>e.date=r),mask:"YYYY-MM-DD HH:mm"},{default:Y(()=>[G("div",_o,[Ot(O(xe,{label:"Close",color:"primary",flat:""},null,512),[[Qt]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),append:Y(()=>[O(at,{name:"access_time",class:"cursor-pointer"},{default:Y(()=>[O(Nt,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:Y(()=>[O(jn,{modelValue:e.date,"onUpdate:modelValue":t[12]||(t[12]=r=>e.date=r),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:Y(()=>[G("div",Co,[Ot(O(xe,{label:"Close",color:"primary",flat:""},null,512),[[Qt]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),G("div",Mo,[G("div",Do,[O(Ge,{type:"number",label:"Agreed Rate",outlined:"",modelValue:n.appointment.agreedRate,"onUpdate:modelValue":t[14]||(t[14]=r=>n.appointment.agreedRate=r),required:""},null,8,["modelValue"])]),G("div",qo,[O(Ge,{type:"number",label:"Reminder (hours before 'Date From')",outlined:"",modelValue:n.appointment.reminderHours,"onUpdate:modelValue":t[15]||(t[15]=r=>n.appointment.reminderHours=r),required:""},null,8,["modelValue"])])])]),_:1}),O(da,{align:"right"},{default:Y(()=>[O(xe,{type:"submit",label:"Submit",color:"primary"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}var xo=il(Ja,[["render",Vo],["__file","D:/Development/Axcelion/front/src/components/Rental/AppointmentsForm.vue"]]);const ko={name:"RentalPage",mixins:[_l],components:{VehicleDialog:()=>fa(()=>import("./VehicleDialog.a33905e8.js"),["assets/VehicleDialog.a33905e8.js","assets/index.71617c11.js","assets/index.337a86d4.css","assets/QItem.0ad78bd5.js","assets/QList.ee342a92.js","assets/position-engine.8cd0ed96.js","assets/use-cache.0702699f.js"]),AppointmentsForm:xo},data(){return{showAppointmentDialog:!1,showDialog:!1,selectedDate:"2021-01-01",selectedVehicle:null,vehicles:["L300","L400","L500"],interactedClients:[{id:1,name:"John Doe",initials:"JD"},{id:2,name:"Jane Doe",initials:"JD"},{id:3,name:"John Smith",initials:"JS"},{id:4,name:"Jane Smith",initials:"JS"}],appointments:[{from:"2025/01/01",to:"2025/01/09",color:"orange"},{from:"2025/01/11",to:"2025/01/14",color:"green"},{from:"2025/01/16",to:"2025/01/20",color:"red"}],colorOptions:{},eventsFn:e=>{let t=e.replace(/\//g,"-");return!!this.formattedDates.all_events.find(s=>s.includes(t))}}},async mounted(){await this.getVehicles()},computed:{formattedDates(){let e=[],t=[];return this.appointments.map(u=>{const s=[];for(let n=new Date(u.from);n<=new Date(u.to);n.setDate(n.getDate()+1))s.push(n.toISOString().split("T")[0]),e.push(n.toISOString().split("T")[0]);t.push({...u,events:s})}),{formatted_dates:t,all_events:e}}},methods:{addNewVehicle(){this.showDialog=!0},color(e){let t=e.replace(/\//g,"-"),u=this.formattedDates.formatted_dates.find(s=>s.events.includes(t));return u?u.color:null},onDayClick(e){console.log("day clicked: ",e.date)},colorizeDates(){this.colorOptions={},this.appointments.forEach(e=>{for(let t=new Date(e.from);t<=new Date(e.to);t.setDate(t.getDate()+1)){const u=t.toISOString().split("T")[0];this.colorOptions[u]={class:`bg-${e.color}`}}})}}},hn=e=>(ma("data-v-dc1e1270"),e=e(),ha(),e),Oo={class:"row q-col-gutter-x-md q-col-gutter-y-xs q-mt-lg"},Ao={class:"col-12 col-md-6"},Ho=hn(()=>G("div",{class:"text-h6"},"Interacted Clients",-1)),Io={class:"col-12 col-md-6"},Fo=hn(()=>G("div",{class:"text-h6"},"Calendar",-1)),Yo={class:"col-12 col-md-6"},Eo=hn(()=>G("div",{class:"text-h6"},"Appointment Tracker",-1));function To(e,t,u,s,n,a){const r=_n("VehicleDialog"),c=_n("AppointmentsForm");return $e(),bt("div",Oo,[O(Kt,{modelValue:n.showDialog,"onUpdate:modelValue":t[1]||(t[1]=d=>n.showDialog=d)},{default:Y(()=>[O(r,{onClose:t[0]||(t[0]=d=>n.showDialog=!1)})]),_:1},8,["modelValue"]),O(Kt,{modelValue:n.showAppointmentDialog,"onUpdate:modelValue":t[3]||(t[3]=d=>n.showAppointmentDialog=d)},{default:Y(()=>[O(At,{style:{width:"700px","max-width":"80vw"}},{default:Y(()=>[O(et,null,{default:Y(()=>[O(c,{onClose:t[2]||(t[2]=d=>n.showAppointmentDialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),G("div",Ao,[O(At,null,{default:Y(()=>[O(et,null,{default:Y(()=>[Ho]),_:1}),O(et,null,{default:Y(()=>[O(qn,null,{default:Y(()=>[($e(!0),bt(Cn,null,Mn(n.interactedClients,d=>($e(),Ut(Tt,{key:d.id,class:"q-my-sm"},{default:Y(()=>[O(Mt,{avatar:""},{default:Y(()=>[O(Dn,{color:"blue","text-color":"white"},{default:Y(()=>[Ft(Yt(d.initials),1)]),_:2},1024)]),_:2},1024),O(Mt,null,{default:Y(()=>[O(Xt,null,{default:Y(()=>[Ft(Yt(d.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),G("div",Io,[O(At,null,{default:Y(()=>[O(et,null,{default:Y(()=>[Fo]),_:1}),O(et,null,{default:Y(()=>[O(rn,{outlined:"",modelValue:n.selectedVehicle,"onUpdate:modelValue":t[4]||(t[4]=d=>n.selectedVehicle=d),options:n.vehicles.map(d=>({label:d.model+" ( "+d.name+" )",value:d.id})),label:"Select Vehicle"},{append:Y(()=>[O(xe,{dense:"",flat:"",icon:"add",onClick:a.addNewVehicle},null,8,["onClick"])]),_:1},8,["modelValue","options"])]),_:1}),O(et,null,{default:Y(()=>[O(cn,{class:"full-width",modelValue:a.formattedDates,"onUpdate:modelValue":t[5]||(t[5]=d=>a.formattedDates=d),title:"Schedule for Rental",subtitle:"L300",range:"",multiple:"",bordered:"",events:n.eventsFn,"event-color":a.color},null,8,["modelValue","events","event-color"])]),_:1})]),_:1})]),G("div",Yo,[O(At,null,{default:Y(()=>[O(et,{class:"row items-center"},{default:Y(()=>[Eo,O(Na),O(xe,{color:"primary",label:"New Rent",onClick:t[6]||(t[6]=d=>n.showAppointmentDialog=!0)})]),_:1}),O(et,null,{default:Y(()=>[O(qn,null,{default:Y(()=>[($e(!0),bt(Cn,null,Mn(n.appointments,d=>($e(),Ut(Tt,{key:d.id,class:"q-my-sm"},{default:Y(()=>[O(Mt,{avatar:""},{default:Y(()=>[O(Dn,{color:"blue","text-color":"white"},{default:Y(()=>[Ft(Yt(d.initials),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})])])}var Po=il(ko,[["render",To],["__scopeId","data-v-dc1e1270"],["__file","D:/Development/Axcelion/front/src/pages/Rental.vue"]]),No=Object.freeze(Object.defineProperty({__proto__:null,default:Po},Symbol.toStringTag,{value:"Module"}));export{No as R,_l as v};
